var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
import { IonicNativePlugin, cordova, checkAvailability } from '@ionic-native/core';
import { Observable } from 'rxjs';
var IBeaconOriginal = /** @class */ (function (_super) {
    __extends(IBeaconOriginal, _super);
    function IBeaconOriginal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    IBeaconOriginal.prototype.Delegate = function () {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                var delegate = new window.cordova.plugins.locationManager.Delegate();
                delegate.didChangeAuthorizationStatus = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didChangeAuthorizationStatus = cb);
                    });
                };
                delegate.didDetermineStateForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didDetermineStateForRegion = cb);
                    });
                };
                delegate.didEnterRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didEnterRegion = cb);
                    });
                };
                delegate.didExitRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didExitRegion = cb);
                    });
                };
                delegate.didRangeBeaconsInRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didRangeBeaconsInRegion = cb);
                    });
                };
                delegate.didStartMonitoringForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didStartMonitoringForRegion = cb);
                    });
                };
                delegate.monitoringDidFailForRegionWithError = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.monitoringDidFailForRegionWithError = cb);
                    });
                };
                delegate.peripheralManagerDidStartAdvertising = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.peripheralManagerDidStartAdvertising = cb);
                    });
                };
                delegate.peripheralManagerDidUpdateState = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.peripheralManagerDidUpdateState = cb);
                    });
                };
                window.cordova.plugins.locationManager.setDelegate(delegate);
                return delegate;
            }
        })();
    };
    IBeaconOriginal.prototype.BeaconRegion = function (identifer, uuid, major, minor, notifyEntryStateOnDisplay) {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return new window.cordova.plugins.locationManager.BeaconRegion(identifer, uuid, major, minor, notifyEntryStateOnDisplay);
            }
        })();
    };
    IBeaconOriginal.prototype.getDelegate = function () { return cordova(this, "getDelegate", {}, arguments); };
    IBeaconOriginal.prototype.setDelegate = function (delegate) { return cordova(this, "setDelegate", {}, arguments); };
    IBeaconOriginal.prototype.onDomDelegateReady = function () { return cordova(this, "onDomDelegateReady", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isBluetoothEnabled = function () { return cordova(this, "isBluetoothEnabled", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.enableBluetooth = function () { return cordova(this, "enableBluetooth", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.disableBluetooth = function () { return cordova(this, "disableBluetooth", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.startMonitoringForRegion = function (region) { return cordova(this, "startMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.stopMonitoringForRegion = function (region) { return cordova(this, "stopMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.requestStateForRegion = function (region) { return cordova(this, "requestStateForRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.startRangingBeaconsInRegion = function (region) { return cordova(this, "startRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.stopRangingBeaconsInRegion = function (region) { return cordova(this, "stopRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.getAuthorizationStatus = function () { return cordova(this, "getAuthorizationStatus", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.requestWhenInUseAuthorization = function () { return cordova(this, "requestWhenInUseAuthorization", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.requestAlwaysAuthorization = function () { return cordova(this, "requestAlwaysAuthorization", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.getMonitoredRegions = function () { return cordova(this, "getMonitoredRegions", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.getRangedRegions = function () { return cordova(this, "getRangedRegions", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isRangingAvailable = function () { return cordova(this, "isRangingAvailable", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isMonitoringAvailableForClass = function (region) { return cordova(this, "isMonitoringAvailableForClass", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.startAdvertising = function (region, measuredPower) { return cordova(this, "startAdvertising", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.stopAdvertising = function (region) { return cordova(this, "stopAdvertising", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isAdvertisingAvailable = function () { return cordova(this, "isAdvertisingAvailable", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.isAdvertising = function () { return cordova(this, "isAdvertising", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.disableDebugLogs = function () { return cordova(this, "disableDebugLogs", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.enableDebugNotifications = function () { return cordova(this, "enableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.disableDebugNotifications = function () { return cordova(this, "disableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.enableDebugLogs = function () { return cordova(this, "enableDebugLogs", { "otherPromise": true }, arguments); };
    IBeaconOriginal.prototype.appendToDeviceLog = function (message) { return cordova(this, "appendToDeviceLog", { "otherPromise": true }, arguments); };
    IBeaconOriginal.pluginName = "IBeacon";
    IBeaconOriginal.plugin = "cordova-plugin-ibeacon";
    IBeaconOriginal.pluginRef = "cordova.plugins.locationManager";
    IBeaconOriginal.repo = "https://github.com/petermetz/cordova-plugin-ibeacon";
    IBeaconOriginal.platforms = ["Android", "iOS"];
    return IBeaconOriginal;
}(IonicNativePlugin));
var IBeacon = new IBeaconOriginal();
export { IBeacon };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2liZWFjb24vaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUNBLE9BQU8saURBQW9ELE1BQU0sb0JBQW9CLENBQUM7QUFDdEYsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQzs7SUE0UkwsMkJBQWlCOzs7O0lBUTVDLDBCQUFROzs7bURBQW9CO2dCQUMxQixJQUFNLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFFdkUsUUFBUSxDQUFDLDRCQUE0QixHQUFHLFVBQUMsWUFBa0M7b0JBQ3pFLE9BQU8sSUFBSSxVQUFVLENBQXNCLFVBQUMsUUFBYTt3QkFDdkQsSUFBTSxFQUFFLEdBQUcsVUFBQyxJQUF5QixJQUFLLE9BQUEsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBbkIsQ0FBbUIsQ0FBQzt3QkFDOUQsT0FBTyxDQUFDLFFBQVEsQ0FBQyw0QkFBNEIsR0FBRyxFQUFFLENBQUMsQ0FBQztvQkFDdEQsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsQ0FBQyxDQUFDO2dCQUVGLFFBQVEsQ0FBQywwQkFBMEIsR0FBRyxVQUFDLFlBQWtDO29CQUN2RSxPQUFPLElBQUksVUFBVSxDQUFzQixVQUFDLFFBQWE7d0JBQ3ZELElBQU0sRUFBRSxHQUFHLFVBQUMsSUFBeUIsSUFBSyxPQUFBLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQW5CLENBQW1CLENBQUM7d0JBQzlELE9BQU8sQ0FBQyxRQUFRLENBQUMsMEJBQTBCLEdBQUcsRUFBRSxDQUFDLENBQUM7b0JBQ3BELENBQUMsQ0FBQyxDQUFDO2dCQUNMLENBQUMsQ0FBQztnQkFFRixRQUFRLENBQUMsY0FBYyxHQUFHLFVBQUMsWUFB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TyxDQUFDLGVBQWUsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7Z0JBQzdELE9BQU8sUUFBUSxDQUFDO2FBQ2pCOzs7SUFlRCw4QkFBWSxhQUNWLFNBQWlCLEVBQ2pCLElBQVksRUFDWixLQUFjLEVBQ2QsS0FBYyxFQUNkLHlCQUFtQzs7O21EQUNyQjtnQkFDZCxPQUFPLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUseUJBQXlCLENBQUMsQ0FBQzthQUMxSDs7O0lBTUQsNkJBQVc7SUFVWCw2QkFBVyxhQUFDLFFBQXlCO0lBeUJyQyxvQ0FBa0I7SUFVbEIsb0NBQWtCO0lBV2xCLGlDQUFlO0lBV2Ysa0NBQWdCO0lBc0JoQiwwQ0FBd0IsYUFBQyxNQUFjO0lBbUJ2Qyx5Q0FBdUIsYUFBQyxNQUFjO0lBa0J0Qyx1Q0FBcUIsYUFBQyxNQUFjO0lBbUJwQyw2Q0FBMkIsYUFBQyxNQUFjO0lBbUIxQyw0Q0FBMEIsYUFBQyxNQUFjO0lBV3pDLHdDQUFzQjtJQWN0QiwrQ0FBNkI7SUFXN0IsNENBQTBCO0lBVTFCLHFDQUFtQjtJQVVuQixrQ0FBZ0I7SUFVaEIsb0NBQWtCO0lBY2xCLCtDQUE2QixhQUFDLE1BQWM7SUFzQjVDLGtDQUFnQixhQUFDLE1BQWMsRUFBRSxhQUFzQjtJQWF2RCxpQ0FBZSxhQUFDLE1BQWM7SUFVOUIsd0NBQXNCO0lBVXRCLCtCQUFhO0lBWWIsa0NBQWdCO0lBYWhCLDBDQUF3QjtJQVl4QiwyQ0FBeUI7SUFZekIsaUNBQWU7SUFlZixtQ0FBaUIsYUFBQyxPQUFlOzs7Ozs7a0JBbHZCbkM7RUE4UjZCLGlCQUFpQjtTQUFqQyxPQUFPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb3Jkb3ZhLCBDb3Jkb3ZhQ2hlY2ssIElvbmljTmF0aXZlUGx1Z2luLCBQbHVnaW4gfSBmcm9tICdAaW9uaWMtbmF0aXZlL2NvcmUnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XHJcblxyXG5kZWNsYXJlIGNvbnN0IGNvcmRvdmE6IGFueTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQmVhY29uIHtcclxuICAvKipcclxuICAgKiBUaGUgcGh5c2ljYWwgZGV2aWNlJ3MgaWRlbnRpZmllci5cclxuICAgKi9cclxuICB1dWlkOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBiZWFjb24ncyBtYWpvciBpZGVudGlmaWVyIG51bWJlci5cclxuICAgKi9cclxuICBtYWpvcjogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgYmVhY29uJ3MgbWlub3IgaWRlbnRpZmllciBudW1iZXIuXHJcbiAgICovXHJcbiAgbWlub3I6IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIHByb3hpbWl0eSBvZiB0aGUgYmVhY29uIHJlbGF0aXZlIHRvIHRoZSBwaG9uZS5cclxuICAgKlxyXG4gICAqIFBvc3NpYmxlIG9wdGlvbnMgYXJlOlxyXG4gICAqIFByb3hpbWl0eUltbWVkaWF0ZVxyXG4gICAqIFByb3hpbWl0eU5lYXJcclxuICAgKiBQcm94aW1pdHlGYXJcclxuICAgKiBQcm94aW1pdHlVbmtub3duXHJcbiAgICovXHJcbiAgcHJveGltaXR5OiAnUHJveGltaXR5SW1tZWRpYXRlJyB8ICdQcm94aW1pdHlOZWFyJyB8ICdQcm94aW1pdHlGYXInIHwgJ1Byb3hpbWl0eVVua25vd24nO1xyXG5cclxuICAvKipcclxuICAgKiBUcmFuc21pc3Npb24gUG93ZXIgb2YgdGhlIGJlYWNvbi4gQSBjb25zdGFudCBlbWl0dGVkIGJ5IHRoZSBiZWFjb24gd2hpY2ggaW5kaWNhdGVzIHdoYXQncyB0aGUgZXhwZWN0ZWQgUlNTSSBhdCBhIGRpc3RhbmNlIG9mIDEgbWV0ZXIgdG8gdGhlIGJlYWNvbi5cclxuICAgKi9cclxuICB0eDogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBSZWNlaXZlZCBTaWduYWwgU3RyZW5ndGggSW5kaWNhdG9yLiBUaGUgc3RyZW5ndGggb2YgdGhlIGJlYWNvbidzIHNpZ25hbCB3aGVuIGl0IHJlYWNoZXMgdGhlIGRldmljZS5cclxuICAgKiAgUlNTSSByYW5nZXMgZnJvbSBhcHJveCAtMjYgKGEgZmV3IGluY2hlcykgdG8gLTEwMCAoNDAtNTAgbSBkaXN0YW5jZSkuXHJcbiAgICovXHJcbiAgcnNzaTogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgYWNjdXJhY3kgb2YgdGhlIHJhbmdpbmcuXHJcbiAgICovXHJcbiAgYWNjdXJhY3k6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBCZWFjb25SZWdpb24ge1xyXG4gIC8qKlxyXG4gICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgcmVnaW9uLlxyXG4gICAqL1xyXG4gIGlkZW50aWZpZXI6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIHRoZSBiZWFjb24gaWRlbnRpZmllciB0aGUgZGV2aWNlIHdpbGwgXCJ3YXRjaFwiIGZvci4gTWFueSBiZWFjb25zIGNhbiBzaGFyZSB0aGUgc2FtZSB1dWlkLlxyXG4gICAqL1xyXG4gIHV1aWQ6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGJlYWNvbidzIG1ham9yIGlkZW50aWZpZXIgbnVtYmVyLiBPcHRpb25hbCwgb2Ygbm90aGluZyBpcyBzdXBwbGllZFxyXG4gICAqIHRoZSBwbHVnaW4gd2lsbCB0cmVhdCBpdCBhcyBhIHdpbGRjYXJkLlxyXG4gICAqL1xyXG4gIG1ham9yPzogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgYmVhY29uJ3MgbWlub3IgaWRlbnRpZmllciBudW1iZXIuIE9wdGlvbmFsLCBvZiBub3RoaW5nIGlzIHN1cHBsaWVkXHJcbiAgICogdGhlIHBsdWdpbiB3aWxsIHRyZWF0IGl0IGFzIGEgd2lsZGNhcmQuXHJcbiAgICovXHJcbiAgbWlub3I/OiBudW1iZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIElmIHNldCB0byB0cnVlIHRoZSBkZXZpY2Ugd2lsbCBzY2FuIGZvciBiZWFjb25zIGFuZCBkZXRlcm1pbmUgcmVnaW9uIHN0YXRlIGFueXRpbWVcclxuICAgKiB0aGUgZGV2aWNlJ3Mgc2NyZWVuIGlzIHR1cm5lZCBvbiBvciBvZmYuIFVzZWZ1bCBmb3IgZGVidWdnaW5nLlxyXG4gICAqL1xyXG4gIG5vdGlmeUVudHJ5U3RhdGVPbkRpc3BsYXk/OiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENpcmN1bGFyUmVnaW9uIHtcclxuICAvKipcclxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIHJlZ2lvbi5cclxuICAgKi9cclxuICBpZGVudGlmaWVyOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBsYXRpdHVkZSBvZiB0aGlzIHJlZ2lvbi5cclxuICAgKi9cclxuICBsYXRpdHVkZTogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgbG9uZ2l0dWRlIG9mIHRoaXMgcmVnaW9uLlxyXG4gICAqL1xyXG4gIGxvbmdpdHVkZTogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgcmFkaXVzIG9mIHRoZSBnZW9mZW5jZSBmb3IgdGhpcyByZWdpb24uXHJcbiAgICovXHJcbiAgcmFkaXVzOiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFJlZ2lvbiA9IEJlYWNvblJlZ2lvbiB8IENpcmN1bGFyUmVnaW9uO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQmVhY29uUGx1Z2luUmVzdWx0IHtcclxuICAvKipcclxuICAgKiBUaGUgbmFtZSBvZiB0aGUgZGVsZWdhdGUgZnVuY3Rpb24gdGhhdCBwcm9kdWNlZCB0aGUgUGx1Z2luUmVzdWx0IG9iamVjdC5cclxuICAgKi9cclxuICBldmVudFR5cGU6IHN0cmluZztcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIHJlZ2lvbiB0aGF0IHRyaWdnZXJlZCB0aGUgZXZlbnQuXHJcbiAgICovXHJcbiAgcmVnaW9uOiBSZWdpb247XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuIGFycmF5IG9mIGJlYWNvbiBvYmplY3RzXHJcbiAgICovXHJcbiAgYmVhY29uczogQmVhY29uW107XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0dXMgb2YgdGhlIGxvY2F0aW9uIHBlcm1pc3Npb24gZm9yIGlPUy5cclxuICAgKi9cclxuICBhdXRob3JpemF0aW9uU3RhdHVzOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBzdGF0ZSBvZiB0aGUgcGhvbmUgaW4gcmVsYXRpb24gdG8gdGhlIHJlZ2lvbi4gSW5zaWRlL291dHNpZGUgZm9yIGV4YW1wbGUuXHJcbiAgICovXHJcbiAgc3RhdGU6ICdDTFJlZ2lvblN0YXRlSW5zaWRlJyB8ICdDTFJlZ2lvblN0YXRlT3V0c2lkZSc7XHJcblxyXG4gIC8qKlxyXG4gICAqIEVycm9yIG1lc3NhZ2UsIHVzZWQgb25seSB3aXRoIG1vbml0b3JpbmdEaWRGYWlsRm9yUmVnaW9uV2l0aEVycm9yIGRlbGVnYXRlLlxyXG4gICAqL1xyXG4gIGVycm9yOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUJlYWNvbkRlbGVnYXRlIHtcclxuICAvKipcclxuICAgKiBBbiBvYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBsb2NhdGlvbiBwZXJtaXNzaW9uIGF1dGhvcml6YXRpb24gc3RhdHVzLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8c3RyaW5nPn0gUmV0dXJucyBhIHN0cmluZy5cclxuICAgKi9cclxuICBkaWRDaGFuZ2VBdXRob3JpemF0aW9uU3RhdHVzKCk6IE9ic2VydmFibGU8c3RyaW5nPjtcclxuXHJcbiAgLyoqXHJcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcclxuICAgKiB3aGVuIHRoZSBuYXRpdmUgbGF5ZXIgaXMgYWJsZSB0byBkZXRlcm1pbmUgdGhlIGRldmljZSdzIHN0YXRlLlxyXG4gICAqXHJcbiAgICogVGhpcyBldmVudCBpcyBjYWxsZWQgd2hlbiB0aGUgcGhvbmUgYmVnaW5zIHN0YXJ0cyBtb25pdG9yaW5nLFxyXG4gICAqIHdoZW4gcmVxdWVzdFN0YXRlRm9yUmVnaW9uIGlzIGNhbGxlZCwgZXRjLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxyXG4gICAqL1xyXG4gIGRpZERldGVybWluZVN0YXRlRm9yUmVnaW9uKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXHJcbiAgICogd2hlbiB0aGUgcGhvbmUgZW50ZXJzIGEgcmVnaW9uIHRoYXQgaXQgd2FzIGFza2VkIHRvIG1vbml0b3IuXHJcbiAgICpcclxuICAgKiBJZiB0aGUgdXNlciBoYXMgZ2l2ZW4gdGhlIGFwcCBBbHdheXMtTG9jYXRpb24gcGVybWlzc2lvbiwgdGhpcyBmdW5jdGlvblxyXG4gICAqICB3aWxsIGJlIGNhbGxlZCBldmVuIHdoZW4gdGhlIGFwcCBpcyBub3QgcnVubmluZyBvbiBpT1MuXHJcbiAgICogVGhlIGFwcCB3aWxsIHJ1biBzaWxlbnRseSBpbiB0aGUgYmFja2dyb3VuZCBmb3IgYSBzbWFsbCBhbW91bnQgb2YgdGltZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cclxuICAgKi9cclxuICBkaWRFbnRlclJlZ2lvbigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xyXG5cclxuICAvKipcclxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xyXG4gICAqIHdoZW4gdGhlIHBob25lIGV4aXRzIGEgcmVnaW9uIHRoYXQgaXQgd2FzIGFza2VkIHRvIG1vbml0b3IuXHJcbiAgICpcclxuICAgKiBJZiB0aGUgdXNlciBoYXMgZ2l2ZW4gdGhlIGFwcCBBbHdheXMtTG9jYXRpb24gcGVybWlzc2lvbiwgdGhpcyBmdW5jdGlvblxyXG4gICAqICB3aWxsIGJlIGNhbGxlZCBldmVuIHdoZW4gdGhlIGFwcCBpcyBub3QgcnVubmluZyBvbiBpT1MuXHJcbiAgICogVGhlIGFwcCB3aWxsIHJ1biBzaWxlbnRseSBpbiB0aGUgYmFja2dyb3VuZCBmb3IgYSBzbWFsbCBhbW91bnQgb2YgdGltZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cclxuICAgKi9cclxuICBkaWRFeGl0UmVnaW9uKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXHJcbiAgICogIGVhY2ggdGltZSB0aGF0IHRoZSBkZXZpY2UgcmFuZ2VzIGJlYWNvbnMuIE1vZGVybiBBbmRyb2lkIGFuZCBpT1MgZGV2aWNlcyByYW5nZVxyXG4gICAqIGFwcm94aW1hdGVseSBvbmNlIHBlciBzZWNvbmQuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXHJcbiAgICovXHJcbiAgZGlkUmFuZ2VCZWFjb25zSW5SZWdpb24oKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcclxuICAgKiAgd2hlbiB0aGUgZGV2aWNlIGJlZ2lucyBtb25pdG9yaW5nIGEgcmVnaW9uLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxyXG4gICAqL1xyXG4gIGRpZFN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xyXG5cclxuICAvKipcclxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xyXG4gICAqICB3aGVuIHRoZSBkZXZpY2UgZmFpbHMgdG8gbW9uaXRvciBhIHJlZ2lvbi5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cclxuICAgKi9cclxuICBtb25pdG9yaW5nRGlkRmFpbEZvclJlZ2lvbldpdGhFcnJvcigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xyXG5cclxuICAvKipcclxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xyXG4gICAqICB3aGVuIHRoZSBkZXZpY2UgYmVnaW5zIGFkdmVydGlzaW5nIGFzIGFuIGlCZWFjb24uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXHJcbiAgICovXHJcbiAgcGVyaXBoZXJhbE1hbmFnZXJEaWRTdGFydEFkdmVydGlzaW5nKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXHJcbiAgICogd2hlbiB0aGUgc3RhdGUgb2YgdGhlIHBlcmlwaGVyYWwgbWFuYWdlcidzIHN0YXRlIHVwZGF0ZXMuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cclxuICAgKi9cclxuICBwZXJpcGhlcmFsTWFuYWdlckRpZFVwZGF0ZVN0YXRlKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBJQmVhY29uXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIHBsdWdpbiBwcm92aWRlcyBmdW5jdGlvbnMgZm9yIHdvcmtpbmcgd2l0aCBpQmVhY29ucy5cclxuICpcclxuICogIFRoZSBwbHVnaW4ncyBBUEkgY2xvc2VseSBtaW1pY3MgdGhlIG9uZSBleHBvc2VkIHRocm91Z2ggdGhlIFtDTExvY2F0aW9uTWFuYWdlcl0oaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvaW9zL2RvY3VtZW50YXRpb24vQ29yZUxvY2F0aW9uL1JlZmVyZW5jZS9DTExvY2F0aW9uTWFuYWdlcl9DbGFzcy9pbmRleC5odG1sKSBpbnRyb2R1Y2VkIGluIGlPUyA3LlxyXG4gKlxyXG4gKiBAdXNhZ2VcclxuICpcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKiBpbXBvcnQgeyBJQmVhY29uIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9pYmVhY29uL25neCc7XHJcbiAqXHJcbiAqIGNvbnN0cnVjdG9yKHByaXZhdGUgaWJlYWNvbjogSUJlYWNvbikgeyB9XHJcbiAqXHJcbiAqIC4uLlxyXG4gKlxyXG4gKlxyXG4gKiAvLyBSZXF1ZXN0IHBlcm1pc3Npb24gdG8gdXNlIGxvY2F0aW9uIG9uIGlPU1xyXG4gKiB0aGlzLmliZWFjb24ucmVxdWVzdEFsd2F5c0F1dGhvcml6YXRpb24oKTtcclxuICogLy8gY3JlYXRlIGEgbmV3IGRlbGVnYXRlIGFuZCByZWdpc3RlciBpdCB3aXRoIHRoZSBuYXRpdmUgbGF5ZXJcclxuICogbGV0IGRlbGVnYXRlID0gdGhpcy5pYmVhY29uLkRlbGVnYXRlKCk7XHJcbiAqXHJcbiAqIC8vIFN1YnNjcmliZSB0byBzb21lIG9mIHRoZSBkZWxlZ2F0ZSdzIGV2ZW50IGhhbmRsZXJzXHJcbiAqIGRlbGVnYXRlLmRpZFJhbmdlQmVhY29uc0luUmVnaW9uKClcclxuICogICAuc3Vic2NyaWJlKFxyXG4gKiAgICAgZGF0YSA9PiBjb25zb2xlLmxvZygnZGlkUmFuZ2VCZWFjb25zSW5SZWdpb246ICcsIGRhdGEpLFxyXG4gKiAgICAgZXJyb3IgPT4gY29uc29sZS5lcnJvcigpXHJcbiAqICAgKTtcclxuICogZGVsZWdhdGUuZGlkU3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uKClcclxuICogICAuc3Vic2NyaWJlKFxyXG4gKiAgICAgZGF0YSA9PiBjb25zb2xlLmxvZygnZGlkU3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uOiAnLCBkYXRhKSxcclxuICogICAgIGVycm9yID0+IGNvbnNvbGUuZXJyb3IoKVxyXG4gKiAgICk7XHJcbiAqIGRlbGVnYXRlLmRpZEVudGVyUmVnaW9uKClcclxuICogICAuc3Vic2NyaWJlKFxyXG4gKiAgICAgZGF0YSA9PiB7XHJcbiAqICAgICAgIGNvbnNvbGUubG9nKCdkaWRFbnRlclJlZ2lvbjogJywgZGF0YSk7XHJcbiAqICAgICB9XHJcbiAqICAgKTtcclxuICpcclxuICogbGV0IGJlYWNvblJlZ2lvbiA9IHRoaXMuaWJlYWNvbi5CZWFjb25SZWdpb24oJ2Rlc2tCZWFjb24nLCdGNzgyNkRBNi1BU0RGLUFTREYtODAyNC1CQzVCNzFFMDg5M0UnKTtcclxuICpcclxuICogdGhpcy5pYmVhY29uLnN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbihiZWFjb25SZWdpb24pXHJcbiAqICAgLnRoZW4oXHJcbiAqICAgICAoKSA9PiBjb25zb2xlLmxvZygnTmF0aXZlIGxheWVyIHJlY2VpdmVkIHRoZSByZXF1ZXN0IHRvIG1vbml0b3JpbmcnKSxcclxuICogICAgIGVycm9yID0+IGNvbnNvbGUuZXJyb3IoJ05hdGl2ZSBsYXllciBmYWlsZWQgdG8gYmVnaW4gbW9uaXRvcmluZzogJywgZXJyb3IpXHJcbiAqICAgKTtcclxuICogYGBgXHJcbiAqIEBpbnRlcmZhY2VzXHJcbiAqIEJlYWNvblxyXG4gKiBCZWFjb25SZWdpb25cclxuICogQ2lyY3VsYXJSZWdpb25cclxuICogSUJlYWNvblBsdWdpblJlc3VsdFxyXG4gKiBJQmVhY29uRGVsZWdhdGVcclxuICpcclxuICovXHJcbkBQbHVnaW4oe1xyXG4gIHBsdWdpbk5hbWU6ICdJQmVhY29uJyxcclxuICBwbHVnaW46ICdjb3Jkb3ZhLXBsdWdpbi1pYmVhY29uJyxcclxuICBwbHVnaW5SZWY6ICdjb3Jkb3ZhLnBsdWdpbnMubG9jYXRpb25NYW5hZ2VyJyxcclxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL3BldGVybWV0ei9jb3Jkb3ZhLXBsdWdpbi1pYmVhY29uJyxcclxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSxcclxufSlcclxuQEluamVjdGFibGUoKVxyXG5leHBvcnQgY2xhc3MgSUJlYWNvbiBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcclxuICAvKipcclxuICAgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgZGVsZWdhdGVzIGJldHdlZW4gdGhlIHtAbGluayBMb2NhdGlvbk1hbmFnZXJ9IGFuZFxyXG4gICAqIHRoZSBjb2RlIHRoYXQgY29uc3VtZXMgdGhlIG1lc3NhZ2VzIGdlbmVyYXRlZCBvbiBpbiB0aGUgbmF0aXZlIGxheWVyLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge0lCZWFjb25EZWxlZ2F0ZX0gQW4gaW5zdGFuY2Ugb2YgdGhlIHR5cGUge0B0eXBlIERlbGVnYXRlfS5cclxuICAgKi9cclxuICBAQ29yZG92YUNoZWNrKHsgc3luYzogdHJ1ZSB9KVxyXG4gIERlbGVnYXRlKCk6IElCZWFjb25EZWxlZ2F0ZSB7XHJcbiAgICBjb25zdCBkZWxlZ2F0ZSA9IG5ldyB3aW5kb3cuY29yZG92YS5wbHVnaW5zLmxvY2F0aW9uTWFuYWdlci5EZWxlZ2F0ZSgpO1xyXG5cclxuICAgIGRlbGVnYXRlLmRpZENoYW5nZUF1dGhvcml6YXRpb25TdGF0dXMgPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oKG9ic2VydmVyOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUuZGlkQ2hhbmdlQXV0aG9yaXphdGlvblN0YXR1cyA9IGNiKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRlbGVnYXRlLmRpZERldGVybWluZVN0YXRlRm9yUmVnaW9uID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcclxuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLmRpZERldGVybWluZVN0YXRlRm9yUmVnaW9uID0gY2IpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZGVsZWdhdGUuZGlkRW50ZXJSZWdpb24gPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oKG9ic2VydmVyOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUuZGlkRW50ZXJSZWdpb24gPSBjYik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBkZWxlZ2F0ZS5kaWRFeGl0UmVnaW9uID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcclxuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLmRpZEV4aXRSZWdpb24gPSBjYik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBkZWxlZ2F0ZS5kaWRSYW5nZUJlYWNvbnNJblJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChkZWxlZ2F0ZS5kaWRSYW5nZUJlYWNvbnNJblJlZ2lvbiA9IGNiKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRlbGVnYXRlLmRpZFN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChkZWxlZ2F0ZS5kaWRTdGFydE1vbml0b3JpbmdGb3JSZWdpb24gPSBjYik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBkZWxlZ2F0ZS5tb25pdG9yaW5nRGlkRmFpbEZvclJlZ2lvbldpdGhFcnJvciA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChkZWxlZ2F0ZS5tb25pdG9yaW5nRGlkRmFpbEZvclJlZ2lvbldpdGhFcnJvciA9IGNiKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRlbGVnYXRlLnBlcmlwaGVyYWxNYW5hZ2VyRGlkU3RhcnRBZHZlcnRpc2luZyA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChkZWxlZ2F0ZS5wZXJpcGhlcmFsTWFuYWdlckRpZFN0YXJ0QWR2ZXJ0aXNpbmcgPSBjYik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBkZWxlZ2F0ZS5wZXJpcGhlcmFsTWFuYWdlckRpZFVwZGF0ZVN0YXRlID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcclxuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLnBlcmlwaGVyYWxNYW5hZ2VyRGlkVXBkYXRlU3RhdGUgPSBjYik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB3aW5kb3cuY29yZG92YS5wbHVnaW5zLmxvY2F0aW9uTWFuYWdlci5zZXREZWxlZ2F0ZShkZWxlZ2F0ZSk7XHJcbiAgICByZXR1cm4gZGVsZWdhdGU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IEJlYWNvblJlZ2lvblxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkZW50aWZpZXIgQHNlZSB7Q0xSZWdpb259XHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHV1aWQgVGhlIHByb3hpbWl0eSBJRCBvZiB0aGUgYmVhY29uIGJlaW5nIHRhcmdldGVkLlxyXG4gICAqIFRoaXMgdmFsdWUgbXVzdCBub3QgYmUgYmxhbmsgbm9yIGludmFsaWQgYXMgYSBVVUlELlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtYWpvciBUaGUgbWFqb3IgdmFsdWUgdGhhdCB5b3UgdXNlIHRvIGlkZW50aWZ5IG9uZSBvciBtb3JlIGJlYWNvbnMuXHJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1pbm9yIFRoZSBtaW5vciB2YWx1ZSB0aGF0IHlvdSB1c2UgdG8gaWRlbnRpZnkgYSBzcGVjaWZpYyBiZWFjb24uXHJcbiAgICogQHBhcmFtIHtCT09MfSBub3RpZnlFbnRyeVN0YXRlT25EaXNwbGF5XHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7QmVhY29uUmVnaW9ufSBSZXR1cm5zIHRoZSBCZWFjb25SZWdpb24gdGhhdCB3YXMgY3JlYXRlZFxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhQ2hlY2soeyBzeW5jOiB0cnVlIH0pXHJcbiAgQmVhY29uUmVnaW9uKFxyXG4gICAgaWRlbnRpZmVyOiBzdHJpbmcsXHJcbiAgICB1dWlkOiBzdHJpbmcsXHJcbiAgICBtYWpvcj86IG51bWJlcixcclxuICAgIG1pbm9yPzogbnVtYmVyLFxyXG4gICAgbm90aWZ5RW50cnlTdGF0ZU9uRGlzcGxheT86IGJvb2xlYW5cclxuICApOiBCZWFjb25SZWdpb24ge1xyXG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuY29yZG92YS5wbHVnaW5zLmxvY2F0aW9uTWFuYWdlci5CZWFjb25SZWdpb24oaWRlbnRpZmVyLCB1dWlkLCBtYWpvciwgbWlub3IsIG5vdGlmeUVudHJ5U3RhdGVPbkRpc3BsYXkpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHJldHVybnMge0lCZWFjb25EZWxlZ2F0ZX0gUmV0dXJucyB0aGUgSUJlYWNvbkRlbGVnYXRlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGdldERlbGVnYXRlKCk6IElCZWFjb25EZWxlZ2F0ZSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0lCZWFjb25EZWxlZ2F0ZX0gZGVsZWdhdGUgQW4gaW5zdGFuY2Ugb2YgYSBkZWxlZ2F0ZSB0byByZWdpc3RlciB3aXRoIHRoZSBuYXRpdmUgbGF5ZXIuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7SUJlYWNvbkRlbGVnYXRlfSBSZXR1cm5zIHRoZSBJQmVhY29uRGVsZWdhdGVcclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgc2V0RGVsZWdhdGUoZGVsZWdhdGU6IElCZWFjb25EZWxlZ2F0ZSk6IElCZWFjb25EZWxlZ2F0ZSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTaWduYWxzIHRoZSBuYXRpdmUgbGF5ZXIgdGhhdCB0aGUgY2xpZW50IHNpZGUgaXMgcmVhZHkgdG8gY29uc3VtZSBtZXNzYWdlcy5cclxuICAgKiBSZWFkaW5lc3MgaGVyZSBtZWFucyB0aGF0IGl0IGhhcyBhIHtJQmVhY29uRGVsZWdhdGV9IHNldCBieSB0aGUgY29uc3VtZXIgamF2YXNjcmlwdFxyXG4gICAqIGNvZGUuXHJcbiAgICpcclxuICAgKiBUaGUge0xvY2F0aW9uTWFuYWdlci5zZXREZWxlZ2F0ZSgpfSB3aWxsIGltcGxpY2l0bHkgY2FsbCB0aGlzIG1ldGhvZCBhcyB3ZWxsLFxyXG4gICAqIHRoZXJlZm9yZSB0aGUgb25seSBjYXNlIHdoZW4geW91IGhhdmUgdG8gY2FsbCB0aGlzIG1hbnVhbGx5IGlzIGlmIHlvdSBkb24ndFxyXG4gICAqIHdpc2ggdG8gc3BlY2lmeSBhIHtJQmVhY29uRGVsZWdhdGV9IG9mIHlvdXJzLlxyXG4gICAqXHJcbiAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBzaWduYWxpbmcgbWVjaGFuaXNtIGlzIHRvIG1ha2UgdGhlIGV2ZW50cyB3b3JrIHdoZW4gdGhlXHJcbiAgICogYXBwIGlzIGJlaW5nIHdva2VuIHVwIGJ5IHRoZSBPcGVyYXRpbmcgU3lzdGVtIHRvIGdpdmUgaXQgYSBjaGFuY2UgdG8gaGFuZGxlXHJcbiAgICogcmVnaW9uIG1vbml0b3JpbmcgZXZlbnRzIGZvciBleGFtcGxlLlxyXG4gICAqXHJcbiAgICogSWYgeW91IGRvbid0IHNldCBhIHtJQmVhY29uRGVsZWdhdGV9IGFuZCBkb24ndCBjYWxsIHRoaXMgbWV0aG9kIG1hbnVhbGx5LCBhbiBlcnJvclxyXG4gICAqIG1lc3NhZ2UgZ2V0IGVtaXR0ZWQgaW4gdGhlIG5hdGl2ZSBydW50aW1lIGFuZCB0aGUgRE9NIGFzIHdlbGwgYWZ0ZXIgYSBjZXJ0YWluXHJcbiAgICogcGVyaW9kIG9mIHRpbWUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSByZXF1ZXN0IGFuZCBzdGFydGVkIHRvIHNlbmQgZXZlbnRzLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgb25Eb21EZWxlZ2F0ZVJlYWR5KCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lcyBpZiBibHVldG9vdGggaXMgc3dpdGNoZWQgb24sIGFjY29yZGluZyB0byB0aGUgbmF0aXZlIGxheWVyLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGEge0Jvb2xlYW59XHJcbiAgICogaW5kaWNhdGluZyB3aGV0aGVyIGJsdWV0b290aCBpcyBhY3RpdmUuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBpc0JsdWV0b290aEVuYWJsZWQoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbmFibGVzIEJsdWV0b290aCB1c2luZyB0aGUgbmF0aXZlIExheWVyLiAoQU5EUk9JRCBPTkxZKVxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdoZW4gQmx1ZXRvb3RoXHJcbiAgICogY291bGQgYmUgZW5hYmxlZC4gSWYgbm90LCB0aGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGggYW4gZXJyb3IuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBlbmFibGVCbHVldG9vdGgoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEaXNhYmxlcyBCbHVldG9vdGggdXNpbmcgdGhlIG5hdGl2ZSBMYXllci4gKEFORFJPSUQgT05MWSlcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIEJsdWV0b290aFxyXG4gICAqIGNvdWxkIGJlIGVuYWJsZWQuIElmIG5vdCwgdGhlIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCB3aXRoIGFuIGVycm9yLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgZGlzYWJsZUJsdWV0b290aCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0YXJ0IG1vbml0b3JpbmcgdGhlIHNwZWNpZmllZCByZWdpb24uXHJcbiAgICpcclxuICAgKiBJZiBhIHJlZ2lvbiBvZiB0aGUgc2FtZSB0eXBlIHdpdGggdGhlIHNhbWUgaWRlbnRpZmllciBpcyBhbHJlYWR5IGJlaW5nXHJcbiAgICogbW9uaXRvcmVkIGZvciB0aGlzIGFwcGxpY2F0aW9uLFxyXG4gICAqIGl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIG1vbml0b3JpbmcuIEZvciBjaXJjdWxhciByZWdpb25zLCB0aGUgcmVnaW9uXHJcbiAgICogbW9uaXRvcmluZyBzZXJ2aWNlIHdpbGwgcHJpb3JpdGl6ZVxyXG4gICAqIHJlZ2lvbnMgYnkgdGhlaXIgc2l6ZSwgZmF2b3Jpbmcgc21hbGxlciByZWdpb25zIG92ZXIgbGFyZ2VyIHJlZ2lvbnMuXHJcbiAgICpcclxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIG1vbml0b3JlZFJlZ2lvbnMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtSZWdpb259IHdoaWNoIHdpbGwgYmUgbW9uaXRvcmVkXHJcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmc+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSBtb25pdG9yaW5nIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBzdGFydE1vbml0b3JpbmdGb3JSZWdpb24ocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RvcCBtb25pdG9yaW5nIHRoZSBzcGVjaWZpZWQgcmVnaW9uLiAgSXQgaXMgdmFsaWQgdG8gY2FsbFxyXG4gICAqIHN0b3BNb25pdG9yaW5nRm9yUmVnaW9uOiBmb3IgYSByZWdpb24gdGhhdCB3YXMgcmVnaXN0ZXJlZCBmb3IgbW9uaXRvcmluZ1xyXG4gICAqIHdpdGggYSBkaWZmZXJlbnQgbG9jYXRpb24gbWFuYWdlciBvYmplY3QsIGR1cmluZyB0aGlzIG9yIHByZXZpb3VzXHJcbiAgICogbGF1bmNoZXMgb2YgeW91ciBhcHBsaWNhdGlvbi5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gbW9uaXRvcmVkUmVnaW9ucy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcclxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSByZXF1ZXN0IHRvIHN0b3AgbW9uaXRvcmluZy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIHN0b3BNb25pdG9yaW5nRm9yUmVnaW9uKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXF1ZXN0IHN0YXRlIHRoZSBmb3Igc3BlY2lmaWVkIHJlZ2lvbi4gV2hlbiByZXN1bHQgaXMgcmVhZHlcclxuICAgKiBkaWREZXRlcm1pbmVTdGF0ZUZvclJlZ2lvbiBpcyB0cmlnZ2VyZWQuIFRoaXMgY2FuIGJlIGFueSByZWdpb24sXHJcbiAgICogYWxzbyB0aG9zZSB3aGljaCBpcyBub3QgY3VycmVudGx5IG1vbml0b3JlZC5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gbW9uaXRvcmVkUmVnaW9ucy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcclxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSByZXF1ZXN0IHRvIHN0b3AgbW9uaXRvcmluZy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIHJlcXVlc3RTdGF0ZUZvclJlZ2lvbihyZWdpb246IFJlZ2lvbik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RhcnQgcmFuZ2luZyB0aGUgc3BlY2lmaWVkIGJlYWNvbiByZWdpb24uXHJcbiAgICpcclxuICAgKiBJZiBhIHJlZ2lvbiBvZiB0aGUgc2FtZSB0eXBlIHdpdGggdGhlIHNhbWUgaWRlbnRpZmllciBpcyBhbHJlYWR5IGJlaW5nXHJcbiAgICogbW9uaXRvcmVkIGZvciB0aGlzIGFwcGxpY2F0aW9uLCBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSBtb25pdG9yaW5nLlxyXG4gICAqXHJcbiAgICogVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5IGFuZCBtYXkgbm90IGJlIGltbWVkaWF0ZWx5IHJlZmxlY3RlZCBpbiByYW5nZWRSZWdpb25zLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7QmVhY29uUmVnaW9ufSB3aGljaCB3aWxsIGJlIG1vbml0b3JlZFxyXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXHJcbiAgICogbmF0aXZlIGxheWVyIGFja25vd2xlZGdlZCB0aGUgZGlzcGF0Y2ggb2YgdGhlIG1vbml0b3JpbmcgcmVxdWVzdC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIHN0YXJ0UmFuZ2luZ0JlYWNvbnNJblJlZ2lvbihyZWdpb246IFJlZ2lvbik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RvcCByYW5naW5nIHRoZSBzcGVjaWZpZWQgcmVnaW9uLiAgSXQgaXMgdmFsaWQgdG8gY2FsbFxyXG4gICAqIHN0b3BNb25pdG9yaW5nRm9yUmVnaW9uOiBmb3IgYSByZWdpb24gdGhhdCB3YXMgcmVnaXN0ZXJlZCBmb3IgcmFuZ2luZ1xyXG4gICAqIHdpdGggYSBkaWZmZXJlbnQgbG9jYXRpb24gbWFuYWdlciBvYmplY3QsIGR1cmluZyB0aGlzIG9yIHByZXZpb3VzXHJcbiAgICogbGF1bmNoZXMgb2YgeW91ciBhcHBsaWNhdGlvbi5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gcmFuZ2VkUmVnaW9ucy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge0JlYWNvblJlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcclxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSByZXF1ZXN0IHRvIHN0b3AgbW9uaXRvcmluZy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIHN0b3BSYW5naW5nQmVhY29uc0luUmVnaW9uKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBRdWVyaWVzIHRoZSBuYXRpdmUgbGF5ZXIgdG8gZGV0ZXJtaW5lIHRoZSBjdXJyZW50IGF1dGhvcml6YXRpb24gaW4gZWZmZWN0LlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggdGhlXHJcbiAgICogcmVxdWVzdGVkIGF1dGhvcml6YXRpb24gc3RhdHVzLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgZ2V0QXV0aG9yaXphdGlvblN0YXR1cygpOiBQcm9taXNlPElCZWFjb25QbHVnaW5SZXN1bHQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZvciBpT1MgOCBhbmQgYWJvdmUgb25seS4gVGhlIHBlcm1pc3Npb24gbW9kZWwgaGFzIGNoYW5nZWQgYnkgQXBwbGUgaW4gaU9TIDgsIG1ha2luZyBpdCBuZWNlc3NhcnkgZm9yIGFwcHMgdG9cclxuICAgKiBleHBsaWNpdGx5IHJlcXVlc3QgcGVybWlzc2lvbnMgdmlhIG1ldGhvZHMgbGlrZSB0aGVzZTpcclxuICAgKiA8YSBocmVmPVwiaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvcHJlcmVsZWFzZS9pT1MvZG9jdW1lbnRhdGlvbi9Db3JlTG9jYXRpb24vUmVmZXJlbmNlL0NMTG9jYXRpb25NYW5hZ2VyX0NsYXNzL2luZGV4Lmh0bWwjLy9hcHBsZV9yZWYvb2NjL2luc3RtL0NMTG9jYXRpb25NYW5hZ2VyL3JlcXVlc3RXaGVuSW5Vc2VBdXRob3JpemF0aW9uXCI+cmVxdWVzdFdoZW5JblVzZUF1dGhvcml6YXRpb248L2E+XHJcbiAgICogPGEgaHJlZj1cImh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L3ByZXJlbGVhc2UvaU9TL2RvY3VtZW50YXRpb24vQ29yZUxvY2F0aW9uL1JlZmVyZW5jZS9DTExvY2F0aW9uTWFuYWdlcl9DbGFzcy9pbmRleC5odG1sIy8vYXBwbGVfcmVmL29jYy9pbnN0bS9DTExvY2F0aW9uTWFuYWdlci9yZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvblwiPnJlcXVlc3RBbHdheXNBdXRob3JpemF0aW9uPC9hPlxyXG4gICAqXHJcbiAgICogSWYgeW91IGFyZSB1c2luZyB0aGlzIHBsdWdpbiBvbiBBbmRyb2lkIGRldmljZXMgb25seSwgeW91IHdpbGwgbmV2ZXIgaGF2ZSB0byB1c2UgdGhpcywgbm9yIHtAY29kZSByZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbn1cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSByZXF1ZXN0IGRpYWxvZyBpcyBzaG93bi5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIHJlcXVlc3RXaGVuSW5Vc2VBdXRob3JpemF0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2VlIHRoZSBkb2N1bWVudGF0aW9uIG9mIHtAY29kZSByZXF1ZXN0V2hlbkluVXNlQXV0aG9yaXphdGlvbn0gZm9yIGZ1cnRoZXIgZGV0YWlscy5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIHRoZSBuYXRpdmUgbGF5ZXJcclxuICAgKiBzaG93cyB0aGUgcmVxdWVzdCBkaWFsb2cuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICByZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8UmVnaW9uW10+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGFuIHtBcnJheX1cclxuICAgKiBvZiB7UmVnaW9ufSBpbnN0YW5jZXMgdGhhdCBhcmUgYmVpbmcgbW9uaXRvcmVkIGJ5IHRoZSBuYXRpdmUgbGF5ZXIuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBnZXRNb25pdG9yZWRSZWdpb25zKCk6IFByb21pc2U8UmVnaW9uW10+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8UmVnaW9uW10+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGFuIHtBcnJheX1cclxuICAgKiBvZiB7UmVnaW9ufSBpbnN0YW5jZXMgdGhhdCBhcmUgYmVpbmcgcmFuZ2VkIGJ5IHRoZSBuYXRpdmUgbGF5ZXIuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBnZXRSYW5nZWRSZWdpb25zKCk6IFByb21pc2U8UmVnaW9uW10+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVybWluZXMgaWYgcmFuZ2luZyBpcyBhdmFpbGFibGUgb3Igbm90LCBhY2NvcmRpbmcgdG8gdGhlIG5hdGl2ZSBsYXllci5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxyXG4gICAqIGluZGljYXRpbmcgd2hldGhlciByYW5naW5nIGlzIGF2YWlsYWJsZSBvciBub3QuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBpc1JhbmdpbmdBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIGlmIHJlZ2lvbiB0eXBlIGlzIHN1cHBvcnRlZCBvciBub3QsIGFjY29yZGluZyB0byB0aGUgbmF0aXZlIGxheWVyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7UmVnaW9ufSB3aGljaCB3aWxsIGJlIGNoZWNrZWRcclxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGEge0Jvb2xlYW59XHJcbiAgICogaW5kaWNhdGluZyB3aGV0aGVyIHRoZSByZWdpb24gdHlwZSBpcyBzdXBwb3J0ZWQgb3Igbm90LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgaXNNb25pdG9yaW5nQXZhaWxhYmxlRm9yQ2xhc3MocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0YXJ0IGFkdmVydGlzaW5nIHRoZSBzcGVjaWZpZWQgcmVnaW9uLlxyXG4gICAqXHJcbiAgICogSWYgYSByZWdpb24gYSBkaWZmZXJlbnQgaWRlbnRpZmllciBpcyBhbHJlYWR5IGJlaW5nIGFkdmVydGlzZWQgZm9yXHJcbiAgICogdGhpcyBhcHBsaWNhdGlvbiwgaXQgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSBuZXcgaWRlbnRpZmllci5cclxuICAgKlxyXG4gICAqIFRoaXMgY2FsbCB3aWxsIGFjY2VwdCBhIHZhbGlkIGJlYWNvbiBldmVuIHdoZW4gbm8gQmx1ZVRvb3RoIGlzIGF2YWlsYWJsZSxcclxuICAgKiBhbmQgd2lsbCBzdGFydCB3aGVuIEJsdWVUb290aCBpcyBwb3dlcmVkIG9uLiBTZWUge0lCZWFjb25EZWxlZ2F0ZS59XHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtSZWdpb259IHdoaWNoIHdpbGwgYmUgYWR2ZXJ0aXNlZFxyXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxyXG4gICAqIEBwYXJhbSB7SW50ZWdlcn0gbWVhc3VyZWRQb3dlcjogT3B0aW9uYWwgcGFyYW1ldGVyLCBpZiBsZWZ0IGVtcHR5LCB0aGUgZGV2aWNlIHdpbGxcclxuICAgKiB1c2UgaXQncyBvd24gZGVmYXVsdCB2YWx1ZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSBhZHZlcnRpc2luZyByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgc3RhcnRBZHZlcnRpc2luZyhyZWdpb246IFJlZ2lvbiwgbWVhc3VyZWRQb3dlcj86IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RvcCBhZHZlcnRpc2luZyBhcyBhIGJlYWNvbi5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gaXNBZHZlcnRpc2luZy5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSByZXF1ZXN0IHRvIHN0b3AgYWR2ZXJ0aXNpbmcuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBzdG9wQWR2ZXJ0aXNpbmcocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVybWluZXMgaWYgYWR2ZXJ0aXNpbmcgaXMgYXZhaWxhYmxlIG9yIG5vdCwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggYSB7Qm9vbGVhbn1cclxuICAgKiBpbmRpY2F0aW5nIHdoZXRoZXIgYWR2ZXJ0aXNpbmcgaXMgYXZhaWxhYmxlIG9yIG5vdC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGlzQWR2ZXJ0aXNpbmdBdmFpbGFibGUoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIGlmIGFkdmVydGlzaW5nIGlzIGN1cnJlbnRseSBhY3RpdmUsIGFjY29yZGluZyB0byB0aGUgbmF0aXZlIGxheWVyLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGEge0Jvb2xlYW59XHJcbiAgICogaW5kaWNhdGluZyB3aGV0aGVyIGFkdmVydGlzaW5nIGlzIGFjdGl2ZS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGlzQWR2ZXJ0aXNpbmcoKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEaXNhYmxlcyBkZWJ1ZyBsb2dnaW5nIGluIHRoZSBuYXRpdmUgbGF5ZXIuIFVzZSB0aGlzIG1ldGhvZCBpZiB5b3Ugd2FudFxyXG4gICAqIHRvIHByZXZlbnQgdGhpcyBwbHVnaW4gZnJvbSB3cml0aW5nIHRvIHRoZSBkZXZpY2UgbG9ncy5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBoYXMgc2V0IHRoZSBsb2dnaW5nIGxldmVsIGFjY29yZGluZ2x5LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgZGlzYWJsZURlYnVnTG9ncygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVuYWJsZXMgdGhlIHBvc3Rpbmcgb2YgZGVidWcgbm90aWZpY2F0aW9ucyBpbiB0aGUgbmF0aXZlIGxheWVyLiBVc2UgdGhpcyBtZXRob2QgaWYgeW91IHdhbnRcclxuICAgKiB0byBhbGxvdyB0aGUgcGx1Z2luIHRoZSBwb3N0aW5nIGxvY2FsIG5vdGlmaWNhdGlvbnMuXHJcbiAgICogVGhpcyBjYW4gYmUgdmVyeSBoZWxwZnVsIHdoZW4gZGVidWdnaW5nIGhvdyB0byBhcHBzIGJlaGF2ZSB3aGVuIGxhdW5jaGVkIGludG8gdGhlIGJhY2tncm91bmQuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgaGFzIHNldCB0aGUgZmxhZyB0byBlbmFibGVkLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgZW5hYmxlRGVidWdOb3RpZmljYXRpb25zKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGlzYWJsZXMgdGhlIHBvc3Rpbmcgb2YgZGVidWcgbm90aWZpY2F0aW9ucyBpbiB0aGUgbmF0aXZlIGxheWVyLiBVc2UgdGhpcyBtZXRob2QgaWYgeW91IHdhbnRcclxuICAgKiB0byBwcmV2ZW50IHRoZSBwbHVnaW4gZnJvbSBwb3N0aW5nIGxvY2FsIG5vdGlmaWNhdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgaGFzIHNldCB0aGUgZmxhZyB0byBkaXNhYmxlZC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGRpc2FibGVEZWJ1Z05vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbmFibGVzIGRlYnVnIGxvZ2dpbmcgaW4gdGhlIG5hdGl2ZSBsYXllci4gVXNlIHRoaXMgbWV0aG9kIGlmIHlvdSB3YW50XHJcbiAgICogYSBkZWJ1ZyB0aGUgaW5uZXIgd29ya2luZ3Mgb2YgdGhpcyBwbHVnaW4uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgaGFzIHNldCB0aGUgbG9nZ2luZyBsZXZlbCBhY2NvcmRpbmdseS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGVuYWJsZURlYnVnTG9ncygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFwcGVuZHMgdGhlIHByb3ZpZGVkIFttZXNzYWdlXSB0byB0aGUgZGV2aWNlIGxvZ3MuXHJcbiAgICogTm90ZTogSWYgZGVidWcgbG9nZ2luZyBpcyB0dXJuZWQgb2ZmLCB0aGlzIHdvbid0IGRvIGFueXRoaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gYXBwZW5kIHRvIHRoZSBkZXZpY2UgbG9ncy5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIHRoZSBsb2dcclxuICAgKiBtZXNzYWdlIHJlY2VpdmVkIGJ5IHRoZSBuYXRpdmUgbGF5ZXIgZm9yIGFwcGVuZGluZy4gVGhlIHJldHVybmVkIG1lc3NhZ2VcclxuICAgKiBpcyBleHBlY3RlZCB0byBiZSBlcXVpdmFsZW50IHRvIHRoZSBvbmUgcHJvdmlkZWQgaW4gdGhlIG9yaWdpbmFsIGNhbGwuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBhcHBlbmRUb0RldmljZUxvZyhtZXNzYWdlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbn1cclxuIl19