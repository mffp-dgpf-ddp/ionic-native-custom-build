import { __decorate, __extends } from "tslib";
import { Injectable } from '@angular/core';
import { IonicNativePlugin, cordova, checkAvailability } from '@ionic-native/core';
import { Observable } from 'rxjs';
var IBeacon = /** @class */ (function (_super) {
    __extends(IBeacon, _super);
    function IBeacon() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    IBeacon.prototype.Delegate = function () {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                var delegate = new window.cordova.plugins.locationManager.Delegate();
                delegate.didChangeAuthorizationStatus = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didChangeAuthorizationStatus = cb);
                    });
                };
                delegate.didDetermineStateForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didDetermineStateForRegion = cb);
                    });
                };
                delegate.didEnterRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didEnterRegion = cb);
                    });
                };
                delegate.didExitRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didExitRegion = cb);
                    });
                };
                delegate.didRangeBeaconsInRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didRangeBeaconsInRegion = cb);
                    });
                };
                delegate.didStartMonitoringForRegion = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.didStartMonitoringForRegion = cb);
                    });
                };
                delegate.monitoringDidFailForRegionWithError = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.monitoringDidFailForRegionWithError = cb);
                    });
                };
                delegate.peripheralManagerDidStartAdvertising = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.peripheralManagerDidStartAdvertising = cb);
                    });
                };
                delegate.peripheralManagerDidUpdateState = function (pluginResult) {
                    return new Observable(function (observer) {
                        var cb = function (data) { return observer.next(data); };
                        return (delegate.peripheralManagerDidUpdateState = cb);
                    });
                };
                window.cordova.plugins.locationManager.setDelegate(delegate);
                return delegate;
            }
        })();
    };
    IBeacon.prototype.BeaconRegion = function (identifer, uuid, major, minor, notifyEntryStateOnDisplay) {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return new window.cordova.plugins.locationManager.BeaconRegion(identifer, uuid, major, minor, notifyEntryStateOnDisplay);
            }
        })();
    };
    IBeacon.prototype.getDelegate = function () { return cordova(this, "getDelegate", {}, arguments); };
    IBeacon.prototype.setDelegate = function (delegate) { return cordova(this, "setDelegate", {}, arguments); };
    IBeacon.prototype.onDomDelegateReady = function () { return cordova(this, "onDomDelegateReady", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isBluetoothEnabled = function () { return cordova(this, "isBluetoothEnabled", { "otherPromise": true }, arguments); };
    IBeacon.prototype.enableBluetooth = function () { return cordova(this, "enableBluetooth", { "otherPromise": true }, arguments); };
    IBeacon.prototype.disableBluetooth = function () { return cordova(this, "disableBluetooth", { "otherPromise": true }, arguments); };
    IBeacon.prototype.startMonitoringForRegion = function (region) { return cordova(this, "startMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.stopMonitoringForRegion = function (region) { return cordova(this, "stopMonitoringForRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.requestStateForRegion = function (region) { return cordova(this, "requestStateForRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.startRangingBeaconsInRegion = function (region) { return cordova(this, "startRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.stopRangingBeaconsInRegion = function (region) { return cordova(this, "stopRangingBeaconsInRegion", { "otherPromise": true }, arguments); };
    IBeacon.prototype.getAuthorizationStatus = function () { return cordova(this, "getAuthorizationStatus", { "otherPromise": true }, arguments); };
    IBeacon.prototype.requestWhenInUseAuthorization = function () { return cordova(this, "requestWhenInUseAuthorization", { "otherPromise": true }, arguments); };
    IBeacon.prototype.requestAlwaysAuthorization = function () { return cordova(this, "requestAlwaysAuthorization", { "otherPromise": true }, arguments); };
    IBeacon.prototype.getMonitoredRegions = function () { return cordova(this, "getMonitoredRegions", { "otherPromise": true }, arguments); };
    IBeacon.prototype.getRangedRegions = function () { return cordova(this, "getRangedRegions", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isRangingAvailable = function () { return cordova(this, "isRangingAvailable", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isMonitoringAvailableForClass = function (region) { return cordova(this, "isMonitoringAvailableForClass", { "otherPromise": true }, arguments); };
    IBeacon.prototype.startAdvertising = function (region, measuredPower) { return cordova(this, "startAdvertising", { "otherPromise": true }, arguments); };
    IBeacon.prototype.stopAdvertising = function (region) { return cordova(this, "stopAdvertising", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isAdvertisingAvailable = function () { return cordova(this, "isAdvertisingAvailable", { "otherPromise": true }, arguments); };
    IBeacon.prototype.isAdvertising = function () { return cordova(this, "isAdvertising", { "otherPromise": true }, arguments); };
    IBeacon.prototype.disableDebugLogs = function () { return cordova(this, "disableDebugLogs", { "otherPromise": true }, arguments); };
    IBeacon.prototype.enableDebugNotifications = function () { return cordova(this, "enableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeacon.prototype.disableDebugNotifications = function () { return cordova(this, "disableDebugNotifications", { "otherPromise": true }, arguments); };
    IBeacon.prototype.enableDebugLogs = function () { return cordova(this, "enableDebugLogs", { "otherPromise": true }, arguments); };
    IBeacon.prototype.appendToDeviceLog = function (message) { return cordova(this, "appendToDeviceLog", { "otherPromise": true }, arguments); };
    IBeacon.pluginName = "IBeacon";
    IBeacon.plugin = "cordova-plugin-ibeacon";
    IBeacon.pluginRef = "cordova.plugins.locationManager";
    IBeacon.repo = "https://github.com/petermetz/cordova-plugin-ibeacon";
    IBeacon.platforms = ["Android", "iOS"];
    IBeacon = __decorate([
        Injectable()
    ], IBeacon);
    return IBeacon;
}(IonicNativePlugin));
export { IBeacon };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2liZWFjb24vbmd4L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8saURBQW9ELE1BQU0sb0JBQW9CLENBQUM7QUFDdEYsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQzs7SUE0UkwsMkJBQWlCOzs7O0lBUTVDLDBCQUFROzs7bURBQW9CO2dCQUMxQixJQUFNLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztnQkFFdkUsUUFBUSxDQUFDLDRCQUE0QixHQUFHLFVBQUMsWUFBa0M7b0JBQ3pFLE9BQU8sSUFBSSxVQUFVLENBQXNCLFVBQUMsUUFBYTt3QkFDdkQsSUFBTSxFQUFFLEdBQUcsVUFBQyxJQUF5QixJQUFLLE9BQUEsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBbkIsQ0FBbUIsQ0FBQzt3QkFDOUQsT0FBTyxDQUFDLFFBQVEsQ0FBQyw0QkFBNEIsR0FBRyxFQUFFLENBQUMsQ0FBQztvQkFDdEQsQ0FBQyxDQUFDLENBQUM7Z0JBQ0wsQ0FBQyxDQUFDO2dCQUVGLFFBQVEsQ0FBQywwQkFBMEIsR0FBRyxVQUFDLFlBQWtDO29CQUN2RSxPQUFPLElBQUksVUFBVSxDQUFzQixVQUFDLFFBQWE7d0JBQ3ZELElBQU0sRUFBRSxHQUFHLFVBQUMsSUFBeUIsSUFBSyxPQUFBLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQW5CLENBQW1CLENBQUM7d0JBQzlELE9BQU8sQ0FBQyxRQUFRLENBQUMsMEJBQTBCLEdBQUcsRUFBRSxDQUFDLENBQUM7b0JBQ3BELENBQUMsQ0FBQyxDQUFDO2dCQUNMLENBQUMsQ0FB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dWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29yZG92YSwgQ29yZG92YUNoZWNrLCBJb25pY05hdGl2ZVBsdWdpbiwgUGx1Z2luIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5cclxuZGVjbGFyZSBjb25zdCBjb3Jkb3ZhOiBhbnk7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEJlYWNvbiB7XHJcbiAgLyoqXHJcbiAgICogVGhlIHBoeXNpY2FsIGRldmljZSdzIGlkZW50aWZpZXIuXHJcbiAgICovXHJcbiAgdXVpZDogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgYmVhY29uJ3MgbWFqb3IgaWRlbnRpZmllciBudW1iZXIuXHJcbiAgICovXHJcbiAgbWFqb3I6IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGJlYWNvbidzIG1pbm9yIGlkZW50aWZpZXIgbnVtYmVyLlxyXG4gICAqL1xyXG4gIG1pbm9yOiBudW1iZXI7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBwcm94aW1pdHkgb2YgdGhlIGJlYWNvbiByZWxhdGl2ZSB0byB0aGUgcGhvbmUuXHJcbiAgICpcclxuICAgKiBQb3NzaWJsZSBvcHRpb25zIGFyZTpcclxuICAgKiBQcm94aW1pdHlJbW1lZGlhdGVcclxuICAgKiBQcm94aW1pdHlOZWFyXHJcbiAgICogUHJveGltaXR5RmFyXHJcbiAgICogUHJveGltaXR5VW5rbm93blxyXG4gICAqL1xyXG4gIHByb3hpbWl0eTogJ1Byb3hpbWl0eUltbWVkaWF0ZScgfCAnUHJveGltaXR5TmVhcicgfCAnUHJveGltaXR5RmFyJyB8ICdQcm94aW1pdHlVbmtub3duJztcclxuXHJcbiAgLyoqXHJcbiAgICogVHJhbnNtaXNzaW9uIFBvd2VyIG9mIHRoZSBiZWFjb24uIEEgY29uc3RhbnQgZW1pdHRlZCBieSB0aGUgYmVhY29uIHdoaWNoIGluZGljYXRlcyB3aGF0J3MgdGhlIGV4cGVjdGVkIFJTU0kgYXQgYSBkaXN0YW5jZSBvZiAxIG1ldGVyIHRvIHRoZSBiZWFjb24uXHJcbiAgICovXHJcbiAgdHg6IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogUmVjZWl2ZWQgU2lnbmFsIFN0cmVuZ3RoIEluZGljYXRvci4gVGhlIHN0cmVuZ3RoIG9mIHRoZSBiZWFjb24ncyBzaWduYWwgd2hlbiBpdCByZWFjaGVzIHRoZSBkZXZpY2UuXHJcbiAgICogIFJTU0kgcmFuZ2VzIGZyb20gYXByb3ggLTI2IChhIGZldyBpbmNoZXMpIHRvIC0xMDAgKDQwLTUwIG0gZGlzdGFuY2UpLlxyXG4gICAqL1xyXG4gIHJzc2k6IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGFjY3VyYWN5IG9mIHRoZSByYW5naW5nLlxyXG4gICAqL1xyXG4gIGFjY3VyYWN5OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQmVhY29uUmVnaW9uIHtcclxuICAvKipcclxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIHJlZ2lvbi5cclxuICAgKi9cclxuICBpZGVudGlmaWVyOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSB0aGUgYmVhY29uIGlkZW50aWZpZXIgdGhlIGRldmljZSB3aWxsIFwid2F0Y2hcIiBmb3IuIE1hbnkgYmVhY29ucyBjYW4gc2hhcmUgdGhlIHNhbWUgdXVpZC5cclxuICAgKi9cclxuICB1dWlkOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBiZWFjb24ncyBtYWpvciBpZGVudGlmaWVyIG51bWJlci4gT3B0aW9uYWwsIG9mIG5vdGhpbmcgaXMgc3VwcGxpZWRcclxuICAgKiB0aGUgcGx1Z2luIHdpbGwgdHJlYXQgaXQgYXMgYSB3aWxkY2FyZC5cclxuICAgKi9cclxuICBtYWpvcj86IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGJlYWNvbidzIG1pbm9yIGlkZW50aWZpZXIgbnVtYmVyLiBPcHRpb25hbCwgb2Ygbm90aGluZyBpcyBzdXBwbGllZFxyXG4gICAqIHRoZSBwbHVnaW4gd2lsbCB0cmVhdCBpdCBhcyBhIHdpbGRjYXJkLlxyXG4gICAqL1xyXG4gIG1pbm9yPzogbnVtYmVyO1xyXG5cclxuICAvKipcclxuICAgKiBJZiBzZXQgdG8gdHJ1ZSB0aGUgZGV2aWNlIHdpbGwgc2NhbiBmb3IgYmVhY29ucyBhbmQgZGV0ZXJtaW5lIHJlZ2lvbiBzdGF0ZSBhbnl0aW1lXHJcbiAgICogdGhlIGRldmljZSdzIHNjcmVlbiBpcyB0dXJuZWQgb24gb3Igb2ZmLiBVc2VmdWwgZm9yIGRlYnVnZ2luZy5cclxuICAgKi9cclxuICBub3RpZnlFbnRyeVN0YXRlT25EaXNwbGF5PzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDaXJjdWxhclJlZ2lvbiB7XHJcbiAgLyoqXHJcbiAgICogQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyByZWdpb24uXHJcbiAgICovXHJcbiAgaWRlbnRpZmllcjogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgbGF0aXR1ZGUgb2YgdGhpcyByZWdpb24uXHJcbiAgICovXHJcbiAgbGF0aXR1ZGU6IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIGxvbmdpdHVkZSBvZiB0aGlzIHJlZ2lvbi5cclxuICAgKi9cclxuICBsb25naXR1ZGU6IG51bWJlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogVGhlIHJhZGl1cyBvZiB0aGUgZ2VvZmVuY2UgZm9yIHRoaXMgcmVnaW9uLlxyXG4gICAqL1xyXG4gIHJhZGl1czogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBSZWdpb24gPSBCZWFjb25SZWdpb24gfCBDaXJjdWxhclJlZ2lvbjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUJlYWNvblBsdWdpblJlc3VsdCB7XHJcbiAgLyoqXHJcbiAgICogVGhlIG5hbWUgb2YgdGhlIGRlbGVnYXRlIGZ1bmN0aW9uIHRoYXQgcHJvZHVjZWQgdGhlIFBsdWdpblJlc3VsdCBvYmplY3QuXHJcbiAgICovXHJcbiAgZXZlbnRUeXBlOiBzdHJpbmc7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSByZWdpb24gdGhhdCB0cmlnZ2VyZWQgdGhlIGV2ZW50LlxyXG4gICAqL1xyXG4gIHJlZ2lvbjogUmVnaW9uO1xyXG5cclxuICAvKipcclxuICAgKiBBbiBhcnJheSBvZiBiZWFjb24gb2JqZWN0c1xyXG4gICAqL1xyXG4gIGJlYWNvbnM6IEJlYWNvbltdO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgc3RhdHVzIG9mIHRoZSBsb2NhdGlvbiBwZXJtaXNzaW9uIGZvciBpT1MuXHJcbiAgICovXHJcbiAgYXV0aG9yaXphdGlvblN0YXR1czogc3RyaW5nO1xyXG5cclxuICAvKipcclxuICAgKiBUaGUgc3RhdGUgb2YgdGhlIHBob25lIGluIHJlbGF0aW9uIHRvIHRoZSByZWdpb24uIEluc2lkZS9vdXRzaWRlIGZvciBleGFtcGxlLlxyXG4gICAqL1xyXG4gIHN0YXRlOiAnQ0xSZWdpb25TdGF0ZUluc2lkZScgfCAnQ0xSZWdpb25TdGF0ZU91dHNpZGUnO1xyXG5cclxuICAvKipcclxuICAgKiBFcnJvciBtZXNzYWdlLCB1c2VkIG9ubHkgd2l0aCBtb25pdG9yaW5nRGlkRmFpbEZvclJlZ2lvbldpdGhFcnJvciBkZWxlZ2F0ZS5cclxuICAgKi9cclxuICBlcnJvcjogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElCZWFjb25EZWxlZ2F0ZSB7XHJcbiAgLyoqXHJcbiAgICogQW4gb2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgbG9jYXRpb24gcGVybWlzc2lvbiBhdXRob3JpemF0aW9uIHN0YXR1cy5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPHN0cmluZz59IFJldHVybnMgYSBzdHJpbmcuXHJcbiAgICovXHJcbiAgZGlkQ2hhbmdlQXV0aG9yaXphdGlvblN0YXR1cygpOiBPYnNlcnZhYmxlPHN0cmluZz47XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXHJcbiAgICogd2hlbiB0aGUgbmF0aXZlIGxheWVyIGlzIGFibGUgdG8gZGV0ZXJtaW5lIHRoZSBkZXZpY2UncyBzdGF0ZS5cclxuICAgKlxyXG4gICAqIFRoaXMgZXZlbnQgaXMgY2FsbGVkIHdoZW4gdGhlIHBob25lIGJlZ2lucyBzdGFydHMgbW9uaXRvcmluZyxcclxuICAgKiB3aGVuIHJlcXVlc3RTdGF0ZUZvclJlZ2lvbiBpcyBjYWxsZWQsIGV0Yy5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cclxuICAgKi9cclxuICBkaWREZXRlcm1pbmVTdGF0ZUZvclJlZ2lvbigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xyXG5cclxuICAvKipcclxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xyXG4gICAqIHdoZW4gdGhlIHBob25lIGVudGVycyBhIHJlZ2lvbiB0aGF0IGl0IHdhcyBhc2tlZCB0byBtb25pdG9yLlxyXG4gICAqXHJcbiAgICogSWYgdGhlIHVzZXIgaGFzIGdpdmVuIHRoZSBhcHAgQWx3YXlzLUxvY2F0aW9uIHBlcm1pc3Npb24sIHRoaXMgZnVuY3Rpb25cclxuICAgKiAgd2lsbCBiZSBjYWxsZWQgZXZlbiB3aGVuIHRoZSBhcHAgaXMgbm90IHJ1bm5pbmcgb24gaU9TLlxyXG4gICAqIFRoZSBhcHAgd2lsbCBydW4gc2lsZW50bHkgaW4gdGhlIGJhY2tncm91bmQgZm9yIGEgc21hbGwgYW1vdW50IG9mIHRpbWUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXHJcbiAgICovXHJcbiAgZGlkRW50ZXJSZWdpb24oKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcclxuICAgKiB3aGVuIHRoZSBwaG9uZSBleGl0cyBhIHJlZ2lvbiB0aGF0IGl0IHdhcyBhc2tlZCB0byBtb25pdG9yLlxyXG4gICAqXHJcbiAgICogSWYgdGhlIHVzZXIgaGFzIGdpdmVuIHRoZSBhcHAgQWx3YXlzLUxvY2F0aW9uIHBlcm1pc3Npb24sIHRoaXMgZnVuY3Rpb25cclxuICAgKiAgd2lsbCBiZSBjYWxsZWQgZXZlbiB3aGVuIHRoZSBhcHAgaXMgbm90IHJ1bm5pbmcgb24gaU9TLlxyXG4gICAqIFRoZSBhcHAgd2lsbCBydW4gc2lsZW50bHkgaW4gdGhlIGJhY2tncm91bmQgZm9yIGEgc21hbGwgYW1vdW50IG9mIHRpbWUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXHJcbiAgICovXHJcbiAgZGlkRXhpdFJlZ2lvbigpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xyXG5cclxuICAvKipcclxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xyXG4gICAqICBlYWNoIHRpbWUgdGhhdCB0aGUgZGV2aWNlIHJhbmdlcyBiZWFjb25zLiBNb2Rlcm4gQW5kcm9pZCBhbmQgaU9TIGRldmljZXMgcmFuZ2VcclxuICAgKiBhcHJveGltYXRlbHkgb25jZSBwZXIgc2Vjb25kLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxyXG4gICAqL1xyXG4gIGRpZFJhbmdlQmVhY29uc0luUmVnaW9uKCk6IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD47XHJcblxyXG4gIC8qKlxyXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBwdWJsaXNoZXMgZXZlbnQgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXHJcbiAgICogIHdoZW4gdGhlIGRldmljZSBiZWdpbnMgbW9uaXRvcmluZyBhIHJlZ2lvbi5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgSUJlYWNvblBsdWdpblJlc3VsdCBvYmplY3Qgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXZlbnQsIHJlZ2lvbiwgYW5kIGJlYWNvbihzKS5cclxuICAgKi9cclxuICBkaWRTdGFydE1vbml0b3JpbmdGb3JSZWdpb24oKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcclxuICAgKiAgd2hlbiB0aGUgZGV2aWNlIGZhaWxzIHRvIG1vbml0b3IgYSByZWdpb24uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXHJcbiAgICovXHJcbiAgbW9uaXRvcmluZ0RpZEZhaWxGb3JSZWdpb25XaXRoRXJyb3IoKTogT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0PjtcclxuXHJcbiAgLyoqXHJcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IHB1Ymxpc2hlcyBldmVudCBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcclxuICAgKiAgd2hlbiB0aGUgZGV2aWNlIGJlZ2lucyBhZHZlcnRpc2luZyBhcyBhbiBpQmVhY29uLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD59IFJldHVybnMgYSBJQmVhY29uUGx1Z2luUmVzdWx0IG9iamVjdCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSBldmVudCwgcmVnaW9uLCBhbmQgYmVhY29uKHMpLlxyXG4gICAqL1xyXG4gIHBlcmlwaGVyYWxNYW5hZ2VyRGlkU3RhcnRBZHZlcnRpc2luZygpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xyXG5cclxuICAvKipcclxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgcHVibGlzaGVzIGV2ZW50IGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xyXG4gICAqIHdoZW4gdGhlIHN0YXRlIG9mIHRoZSBwZXJpcGhlcmFsIG1hbmFnZXIncyBzdGF0ZSB1cGRhdGVzLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pn0gUmV0dXJucyBhIElCZWFjb25QbHVnaW5SZXN1bHQgb2JqZWN0IHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV2ZW50LCByZWdpb24sIGFuZCBiZWFjb24ocykuXHJcbiAgICovXHJcbiAgcGVyaXBoZXJhbE1hbmFnZXJEaWRVcGRhdGVTdGF0ZSgpOiBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+O1xyXG59XHJcblxyXG4vKipcclxuICogQG5hbWUgSUJlYWNvblxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBwbHVnaW4gcHJvdmlkZXMgZnVuY3Rpb25zIGZvciB3b3JraW5nIHdpdGggaUJlYWNvbnMuXHJcbiAqXHJcbiAqICBUaGUgcGx1Z2luJ3MgQVBJIGNsb3NlbHkgbWltaWNzIHRoZSBvbmUgZXhwb3NlZCB0aHJvdWdoIHRoZSBbQ0xMb2NhdGlvbk1hbmFnZXJdKGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2lvcy9kb2N1bWVudGF0aW9uL0NvcmVMb2NhdGlvbi9SZWZlcmVuY2UvQ0xMb2NhdGlvbk1hbmFnZXJfQ2xhc3MvaW5kZXguaHRtbCkgaW50cm9kdWNlZCBpbiBpT1MgNy5cclxuICpcclxuICogQHVzYWdlXHJcbiAqXHJcbiAqIGBgYHR5cGVzY3JpcHRcclxuICogaW1wb3J0IHsgSUJlYWNvbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvaWJlYWNvbi9uZ3gnO1xyXG4gKlxyXG4gKiBjb25zdHJ1Y3Rvcihwcml2YXRlIGliZWFjb246IElCZWFjb24pIHsgfVxyXG4gKlxyXG4gKiAuLi5cclxuICpcclxuICpcclxuICogLy8gUmVxdWVzdCBwZXJtaXNzaW9uIHRvIHVzZSBsb2NhdGlvbiBvbiBpT1NcclxuICogdGhpcy5pYmVhY29uLnJlcXVlc3RBbHdheXNBdXRob3JpemF0aW9uKCk7XHJcbiAqIC8vIGNyZWF0ZSBhIG5ldyBkZWxlZ2F0ZSBhbmQgcmVnaXN0ZXIgaXQgd2l0aCB0aGUgbmF0aXZlIGxheWVyXHJcbiAqIGxldCBkZWxlZ2F0ZSA9IHRoaXMuaWJlYWNvbi5EZWxlZ2F0ZSgpO1xyXG4gKlxyXG4gKiAvLyBTdWJzY3JpYmUgdG8gc29tZSBvZiB0aGUgZGVsZWdhdGUncyBldmVudCBoYW5kbGVyc1xyXG4gKiBkZWxlZ2F0ZS5kaWRSYW5nZUJlYWNvbnNJblJlZ2lvbigpXHJcbiAqICAgLnN1YnNjcmliZShcclxuICogICAgIGRhdGEgPT4gY29uc29sZS5sb2coJ2RpZFJhbmdlQmVhY29uc0luUmVnaW9uOiAnLCBkYXRhKSxcclxuICogICAgIGVycm9yID0+IGNvbnNvbGUuZXJyb3IoKVxyXG4gKiAgICk7XHJcbiAqIGRlbGVnYXRlLmRpZFN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbigpXHJcbiAqICAgLnN1YnNjcmliZShcclxuICogICAgIGRhdGEgPT4gY29uc29sZS5sb2coJ2RpZFN0YXJ0TW9uaXRvcmluZ0ZvclJlZ2lvbjogJywgZGF0YSksXHJcbiAqICAgICBlcnJvciA9PiBjb25zb2xlLmVycm9yKClcclxuICogICApO1xyXG4gKiBkZWxlZ2F0ZS5kaWRFbnRlclJlZ2lvbigpXHJcbiAqICAgLnN1YnNjcmliZShcclxuICogICAgIGRhdGEgPT4ge1xyXG4gKiAgICAgICBjb25zb2xlLmxvZygnZGlkRW50ZXJSZWdpb246ICcsIGRhdGEpO1xyXG4gKiAgICAgfVxyXG4gKiAgICk7XHJcbiAqXHJcbiAqIGxldCBiZWFjb25SZWdpb24gPSB0aGlzLmliZWFjb24uQmVhY29uUmVnaW9uKCdkZXNrQmVhY29uJywnRjc4MjZEQTYtQVNERi1BU0RGLTgwMjQtQkM1QjcxRTA4OTNFJyk7XHJcbiAqXHJcbiAqIHRoaXMuaWJlYWNvbi5zdGFydE1vbml0b3JpbmdGb3JSZWdpb24oYmVhY29uUmVnaW9uKVxyXG4gKiAgIC50aGVuKFxyXG4gKiAgICAgKCkgPT4gY29uc29sZS5sb2coJ05hdGl2ZSBsYXllciByZWNlaXZlZCB0aGUgcmVxdWVzdCB0byBtb25pdG9yaW5nJyksXHJcbiAqICAgICBlcnJvciA9PiBjb25zb2xlLmVycm9yKCdOYXRpdmUgbGF5ZXIgZmFpbGVkIHRvIGJlZ2luIG1vbml0b3Jpbmc6ICcsIGVycm9yKVxyXG4gKiAgICk7XHJcbiAqIGBgYFxyXG4gKiBAaW50ZXJmYWNlc1xyXG4gKiBCZWFjb25cclxuICogQmVhY29uUmVnaW9uXHJcbiAqIENpcmN1bGFyUmVnaW9uXHJcbiAqIElCZWFjb25QbHVnaW5SZXN1bHRcclxuICogSUJlYWNvbkRlbGVnYXRlXHJcbiAqXHJcbiAqL1xyXG5AUGx1Z2luKHtcclxuICBwbHVnaW5OYW1lOiAnSUJlYWNvbicsXHJcbiAgcGx1Z2luOiAnY29yZG92YS1wbHVnaW4taWJlYWNvbicsXHJcbiAgcGx1Z2luUmVmOiAnY29yZG92YS5wbHVnaW5zLmxvY2F0aW9uTWFuYWdlcicsXHJcbiAgcmVwbzogJ2h0dHBzOi8vZ2l0aHViLmNvbS9wZXRlcm1ldHovY29yZG92YS1wbHVnaW4taWJlYWNvbicsXHJcbiAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnaU9TJ10sXHJcbn0pXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIElCZWFjb24gZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XHJcbiAgLyoqXHJcbiAgICogSW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MgYXJlIGRlbGVnYXRlcyBiZXR3ZWVuIHRoZSB7QGxpbmsgTG9jYXRpb25NYW5hZ2VyfSBhbmRcclxuICAgKiB0aGUgY29kZSB0aGF0IGNvbnN1bWVzIHRoZSBtZXNzYWdlcyBnZW5lcmF0ZWQgb24gaW4gdGhlIG5hdGl2ZSBsYXllci5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtJQmVhY29uRGVsZWdhdGV9IEFuIGluc3RhbmNlIG9mIHRoZSB0eXBlIHtAdHlwZSBEZWxlZ2F0ZX0uXHJcbiAgICovXHJcbiAgQENvcmRvdmFDaGVjayh7IHN5bmM6IHRydWUgfSlcclxuICBEZWxlZ2F0ZSgpOiBJQmVhY29uRGVsZWdhdGUge1xyXG4gICAgY29uc3QgZGVsZWdhdGUgPSBuZXcgd2luZG93LmNvcmRvdmEucGx1Z2lucy5sb2NhdGlvbk1hbmFnZXIuRGVsZWdhdGUoKTtcclxuXHJcbiAgICBkZWxlZ2F0ZS5kaWRDaGFuZ2VBdXRob3JpemF0aW9uU3RhdHVzID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcclxuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLmRpZENoYW5nZUF1dGhvcml6YXRpb25TdGF0dXMgPSBjYik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBkZWxlZ2F0ZS5kaWREZXRlcm1pbmVTdGF0ZUZvclJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChkZWxlZ2F0ZS5kaWREZXRlcm1pbmVTdGF0ZUZvclJlZ2lvbiA9IGNiKTtcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRlbGVnYXRlLmRpZEVudGVyUmVnaW9uID0gKHBsdWdpblJlc3VsdD86IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IHtcclxuICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPElCZWFjb25QbHVnaW5SZXN1bHQ+KChvYnNlcnZlcjogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2IgPSAoZGF0YTogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4gb2JzZXJ2ZXIubmV4dChkYXRhKTtcclxuICAgICAgICByZXR1cm4gKGRlbGVnYXRlLmRpZEVudGVyUmVnaW9uID0gY2IpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZGVsZWdhdGUuZGlkRXhpdFJlZ2lvbiA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChkZWxlZ2F0ZS5kaWRFeGl0UmVnaW9uID0gY2IpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZGVsZWdhdGUuZGlkUmFuZ2VCZWFjb25zSW5SZWdpb24gPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oKG9ic2VydmVyOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUuZGlkUmFuZ2VCZWFjb25zSW5SZWdpb24gPSBjYik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBkZWxlZ2F0ZS5kaWRTdGFydE1vbml0b3JpbmdGb3JSZWdpb24gPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oKG9ic2VydmVyOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUuZGlkU3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uID0gY2IpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZGVsZWdhdGUubW9uaXRvcmluZ0RpZEZhaWxGb3JSZWdpb25XaXRoRXJyb3IgPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oKG9ic2VydmVyOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUubW9uaXRvcmluZ0RpZEZhaWxGb3JSZWdpb25XaXRoRXJyb3IgPSBjYik7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBkZWxlZ2F0ZS5wZXJpcGhlcmFsTWFuYWdlckRpZFN0YXJ0QWR2ZXJ0aXNpbmcgPSAocGx1Z2luUmVzdWx0PzogSUJlYWNvblBsdWdpblJlc3VsdCkgPT4ge1xyXG4gICAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8SUJlYWNvblBsdWdpblJlc3VsdD4oKG9ic2VydmVyOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCBjYiA9IChkYXRhOiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiBvYnNlcnZlci5uZXh0KGRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoZGVsZWdhdGUucGVyaXBoZXJhbE1hbmFnZXJEaWRTdGFydEFkdmVydGlzaW5nID0gY2IpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZGVsZWdhdGUucGVyaXBoZXJhbE1hbmFnZXJEaWRVcGRhdGVTdGF0ZSA9IChwbHVnaW5SZXN1bHQ/OiBJQmVhY29uUGx1Z2luUmVzdWx0KSA9PiB7XHJcbiAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxJQmVhY29uUGx1Z2luUmVzdWx0Pigob2JzZXJ2ZXI6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNiID0gKGRhdGE6IElCZWFjb25QbHVnaW5SZXN1bHQpID0+IG9ic2VydmVyLm5leHQoZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChkZWxlZ2F0ZS5wZXJpcGhlcmFsTWFuYWdlckRpZFVwZGF0ZVN0YXRlID0gY2IpO1xyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmNvcmRvdmEucGx1Z2lucy5sb2NhdGlvbk1hbmFnZXIuc2V0RGVsZWdhdGUoZGVsZWdhdGUpO1xyXG4gICAgcmV0dXJuIGRlbGVnYXRlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBCZWFjb25SZWdpb25cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZGVudGlmaWVyIEBzZWUge0NMUmVnaW9ufVxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB1dWlkIFRoZSBwcm94aW1pdHkgSUQgb2YgdGhlIGJlYWNvbiBiZWluZyB0YXJnZXRlZC5cclxuICAgKiBUaGlzIHZhbHVlIG11c3Qgbm90IGJlIGJsYW5rIG5vciBpbnZhbGlkIGFzIGEgVVVJRC5cclxuICAgKiBAcGFyYW0ge051bWJlcn0gbWFqb3IgVGhlIG1ham9yIHZhbHVlIHRoYXQgeW91IHVzZSB0byBpZGVudGlmeSBvbmUgb3IgbW9yZSBiZWFjb25zLlxyXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtaW5vciBUaGUgbWlub3IgdmFsdWUgdGhhdCB5b3UgdXNlIHRvIGlkZW50aWZ5IGEgc3BlY2lmaWMgYmVhY29uLlxyXG4gICAqIEBwYXJhbSB7Qk9PTH0gbm90aWZ5RW50cnlTdGF0ZU9uRGlzcGxheVxyXG4gICAqXHJcbiAgICogQHJldHVybnMge0JlYWNvblJlZ2lvbn0gUmV0dXJucyB0aGUgQmVhY29uUmVnaW9uIHRoYXQgd2FzIGNyZWF0ZWRcclxuICAgKi9cclxuICBAQ29yZG92YUNoZWNrKHsgc3luYzogdHJ1ZSB9KVxyXG4gIEJlYWNvblJlZ2lvbihcclxuICAgIGlkZW50aWZlcjogc3RyaW5nLFxyXG4gICAgdXVpZDogc3RyaW5nLFxyXG4gICAgbWFqb3I/OiBudW1iZXIsXHJcbiAgICBtaW5vcj86IG51bWJlcixcclxuICAgIG5vdGlmeUVudHJ5U3RhdGVPbkRpc3BsYXk/OiBib29sZWFuXHJcbiAgKTogQmVhY29uUmVnaW9uIHtcclxuICAgIHJldHVybiBuZXcgd2luZG93LmNvcmRvdmEucGx1Z2lucy5sb2NhdGlvbk1hbmFnZXIuQmVhY29uUmVnaW9uKGlkZW50aWZlciwgdXVpZCwgbWFqb3IsIG1pbm9yLCBub3RpZnlFbnRyeVN0YXRlT25EaXNwbGF5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtJQmVhY29uRGVsZWdhdGV9IFJldHVybnMgdGhlIElCZWFjb25EZWxlZ2F0ZVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBnZXREZWxlZ2F0ZSgpOiBJQmVhY29uRGVsZWdhdGUge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtJQmVhY29uRGVsZWdhdGV9IGRlbGVnYXRlIEFuIGluc3RhbmNlIG9mIGEgZGVsZWdhdGUgdG8gcmVnaXN0ZXIgd2l0aCB0aGUgbmF0aXZlIGxheWVyLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge0lCZWFjb25EZWxlZ2F0ZX0gUmV0dXJucyB0aGUgSUJlYWNvbkRlbGVnYXRlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHNldERlbGVnYXRlKGRlbGVnYXRlOiBJQmVhY29uRGVsZWdhdGUpOiBJQmVhY29uRGVsZWdhdGUge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU2lnbmFscyB0aGUgbmF0aXZlIGxheWVyIHRoYXQgdGhlIGNsaWVudCBzaWRlIGlzIHJlYWR5IHRvIGNvbnN1bWUgbWVzc2FnZXMuXHJcbiAgICogUmVhZGluZXNzIGhlcmUgbWVhbnMgdGhhdCBpdCBoYXMgYSB7SUJlYWNvbkRlbGVnYXRlfSBzZXQgYnkgdGhlIGNvbnN1bWVyIGphdmFzY3JpcHRcclxuICAgKiBjb2RlLlxyXG4gICAqXHJcbiAgICogVGhlIHtMb2NhdGlvbk1hbmFnZXIuc2V0RGVsZWdhdGUoKX0gd2lsbCBpbXBsaWNpdGx5IGNhbGwgdGhpcyBtZXRob2QgYXMgd2VsbCxcclxuICAgKiB0aGVyZWZvcmUgdGhlIG9ubHkgY2FzZSB3aGVuIHlvdSBoYXZlIHRvIGNhbGwgdGhpcyBtYW51YWxseSBpcyBpZiB5b3UgZG9uJ3RcclxuICAgKiB3aXNoIHRvIHNwZWNpZnkgYSB7SUJlYWNvbkRlbGVnYXRlfSBvZiB5b3Vycy5cclxuICAgKlxyXG4gICAqIFRoZSBwdXJwb3NlIG9mIHRoaXMgc2lnbmFsaW5nIG1lY2hhbmlzbSBpcyB0byBtYWtlIHRoZSBldmVudHMgd29yayB3aGVuIHRoZVxyXG4gICAqIGFwcCBpcyBiZWluZyB3b2tlbiB1cCBieSB0aGUgT3BlcmF0aW5nIFN5c3RlbSB0byBnaXZlIGl0IGEgY2hhbmNlIHRvIGhhbmRsZVxyXG4gICAqIHJlZ2lvbiBtb25pdG9yaW5nIGV2ZW50cyBmb3IgZXhhbXBsZS5cclxuICAgKlxyXG4gICAqIElmIHlvdSBkb24ndCBzZXQgYSB7SUJlYWNvbkRlbGVnYXRlfSBhbmQgZG9uJ3QgY2FsbCB0aGlzIG1ldGhvZCBtYW51YWxseSwgYW4gZXJyb3JcclxuICAgKiBtZXNzYWdlIGdldCBlbWl0dGVkIGluIHRoZSBuYXRpdmUgcnVudGltZSBhbmQgdGhlIERPTSBhcyB3ZWxsIGFmdGVyIGEgY2VydGFpblxyXG4gICAqIHBlcmlvZCBvZiB0aW1lLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXHJcbiAgICogbmF0aXZlIGxheWVyIGFja25vd2xlZGdlZCB0aGUgcmVxdWVzdCBhbmQgc3RhcnRlZCB0byBzZW5kIGV2ZW50cy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIG9uRG9tRGVsZWdhdGVSZWFkeSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERldGVybWluZXMgaWYgYmx1ZXRvb3RoIGlzIHN3aXRjaGVkIG9uLCBhY2NvcmRpbmcgdG8gdGhlIG5hdGl2ZSBsYXllci5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxyXG4gICAqIGluZGljYXRpbmcgd2hldGhlciBibHVldG9vdGggaXMgYWN0aXZlLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgaXNCbHVldG9vdGhFbmFibGVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRW5hYmxlcyBCbHVldG9vdGggdXNpbmcgdGhlIG5hdGl2ZSBMYXllci4gKEFORFJPSUQgT05MWSlcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aGVuIEJsdWV0b290aFxyXG4gICAqIGNvdWxkIGJlIGVuYWJsZWQuIElmIG5vdCwgdGhlIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCB3aXRoIGFuIGVycm9yLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgZW5hYmxlQmx1ZXRvb3RoKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGlzYWJsZXMgQmx1ZXRvb3RoIHVzaW5nIHRoZSBuYXRpdmUgTGF5ZXIuIChBTkRST0lEIE9OTFkpXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2hlbiBCbHVldG9vdGhcclxuICAgKiBjb3VsZCBiZSBlbmFibGVkLiBJZiBub3QsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvci5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGRpc2FibGVCbHVldG9vdGgoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGFydCBtb25pdG9yaW5nIHRoZSBzcGVjaWZpZWQgcmVnaW9uLlxyXG4gICAqXHJcbiAgICogSWYgYSByZWdpb24gb2YgdGhlIHNhbWUgdHlwZSB3aXRoIHRoZSBzYW1lIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBiZWluZ1xyXG4gICAqIG1vbml0b3JlZCBmb3IgdGhpcyBhcHBsaWNhdGlvbixcclxuICAgKiBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSBtb25pdG9yaW5nLiBGb3IgY2lyY3VsYXIgcmVnaW9ucywgdGhlIHJlZ2lvblxyXG4gICAqIG1vbml0b3Jpbmcgc2VydmljZSB3aWxsIHByaW9yaXRpemVcclxuICAgKiByZWdpb25zIGJ5IHRoZWlyIHNpemUsIGZhdm9yaW5nIHNtYWxsZXIgcmVnaW9ucyBvdmVyIGxhcmdlciByZWdpb25zLlxyXG4gICAqXHJcbiAgICogVGhpcyBpcyBkb25lIGFzeW5jaHJvbm91c2x5IGFuZCBtYXkgbm90IGJlIGltbWVkaWF0ZWx5IHJlZmxlY3RlZCBpbiBtb25pdG9yZWRSZWdpb25zLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7UmVnaW9ufSB3aGljaCB3aWxsIGJlIG1vbml0b3JlZFxyXG4gICAqIGJ5IHRoZSBvcGVyYXRpbmcgc3lzdGVtLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgbW9uaXRvcmluZyByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgc3RhcnRNb25pdG9yaW5nRm9yUmVnaW9uKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0b3AgbW9uaXRvcmluZyB0aGUgc3BlY2lmaWVkIHJlZ2lvbi4gIEl0IGlzIHZhbGlkIHRvIGNhbGxcclxuICAgKiBzdG9wTW9uaXRvcmluZ0ZvclJlZ2lvbjogZm9yIGEgcmVnaW9uIHRoYXQgd2FzIHJlZ2lzdGVyZWQgZm9yIG1vbml0b3JpbmdcclxuICAgKiB3aXRoIGEgZGlmZmVyZW50IGxvY2F0aW9uIG1hbmFnZXIgb2JqZWN0LCBkdXJpbmcgdGhpcyBvciBwcmV2aW91c1xyXG4gICAqIGxhdW5jaGVzIG9mIHlvdXIgYXBwbGljYXRpb24uXHJcbiAgICpcclxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIG1vbml0b3JlZFJlZ2lvbnMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtSZWdpb259IHdoaWNoIHdpbGwgYmUgbW9uaXRvcmVkXHJcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgcmVxdWVzdCB0byBzdG9wIG1vbml0b3JpbmcuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBzdG9wTW9uaXRvcmluZ0ZvclJlZ2lvbihyZWdpb246IFJlZ2lvbik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVxdWVzdCBzdGF0ZSB0aGUgZm9yIHNwZWNpZmllZCByZWdpb24uIFdoZW4gcmVzdWx0IGlzIHJlYWR5XHJcbiAgICogZGlkRGV0ZXJtaW5lU3RhdGVGb3JSZWdpb24gaXMgdHJpZ2dlcmVkLiBUaGlzIGNhbiBiZSBhbnkgcmVnaW9uLFxyXG4gICAqIGFsc28gdGhvc2Ugd2hpY2ggaXMgbm90IGN1cnJlbnRseSBtb25pdG9yZWQuXHJcbiAgICpcclxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIG1vbml0b3JlZFJlZ2lvbnMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtSZWdpb259IHdoaWNoIHdpbGwgYmUgbW9uaXRvcmVkXHJcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgcmVxdWVzdCB0byBzdG9wIG1vbml0b3JpbmcuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICByZXF1ZXN0U3RhdGVGb3JSZWdpb24ocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0YXJ0IHJhbmdpbmcgdGhlIHNwZWNpZmllZCBiZWFjb24gcmVnaW9uLlxyXG4gICAqXHJcbiAgICogSWYgYSByZWdpb24gb2YgdGhlIHNhbWUgdHlwZSB3aXRoIHRoZSBzYW1lIGlkZW50aWZpZXIgaXMgYWxyZWFkeSBiZWluZ1xyXG4gICAqIG1vbml0b3JlZCBmb3IgdGhpcyBhcHBsaWNhdGlvbiwgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gbW9uaXRvcmluZy5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseSBhbmQgbWF5IG5vdCBiZSBpbW1lZGlhdGVseSByZWZsZWN0ZWQgaW4gcmFuZ2VkUmVnaW9ucy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge0JlYWNvblJlZ2lvbn0gd2hpY2ggd2lsbCBiZSBtb25pdG9yZWRcclxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCBhcyBzb29uIGFzIHRoZVxyXG4gICAqIG5hdGl2ZSBsYXllciBhY2tub3dsZWRnZWQgdGhlIGRpc3BhdGNoIG9mIHRoZSBtb25pdG9yaW5nIHJlcXVlc3QuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBzdGFydFJhbmdpbmdCZWFjb25zSW5SZWdpb24ocmVnaW9uOiBSZWdpb24pOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0b3AgcmFuZ2luZyB0aGUgc3BlY2lmaWVkIHJlZ2lvbi4gIEl0IGlzIHZhbGlkIHRvIGNhbGxcclxuICAgKiBzdG9wTW9uaXRvcmluZ0ZvclJlZ2lvbjogZm9yIGEgcmVnaW9uIHRoYXQgd2FzIHJlZ2lzdGVyZWQgZm9yIHJhbmdpbmdcclxuICAgKiB3aXRoIGEgZGlmZmVyZW50IGxvY2F0aW9uIG1hbmFnZXIgb2JqZWN0LCBkdXJpbmcgdGhpcyBvciBwcmV2aW91c1xyXG4gICAqIGxhdW5jaGVzIG9mIHlvdXIgYXBwbGljYXRpb24uXHJcbiAgICpcclxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIHJhbmdlZFJlZ2lvbnMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JlZ2lvbn0gcmVnaW9uIEFuIGluc3RhbmNlIG9mIHtCZWFjb25SZWdpb259IHdoaWNoIHdpbGwgYmUgbW9uaXRvcmVkXHJcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgcmVxdWVzdCB0byBzdG9wIG1vbml0b3JpbmcuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBzdG9wUmFuZ2luZ0JlYWNvbnNJblJlZ2lvbihyZWdpb246IFJlZ2lvbik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUXVlcmllcyB0aGUgbmF0aXZlIGxheWVyIHRvIGRldGVybWluZSB0aGUgY3VycmVudCBhdXRob3JpemF0aW9uIGluIGVmZmVjdC5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPElCZWFjb25QbHVnaW5SZXN1bHQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIHRoZVxyXG4gICAqIHJlcXVlc3RlZCBhdXRob3JpemF0aW9uIHN0YXR1cy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGdldEF1dGhvcml6YXRpb25TdGF0dXMoKTogUHJvbWlzZTxJQmVhY29uUGx1Z2luUmVzdWx0PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGb3IgaU9TIDggYW5kIGFib3ZlIG9ubHkuIFRoZSBwZXJtaXNzaW9uIG1vZGVsIGhhcyBjaGFuZ2VkIGJ5IEFwcGxlIGluIGlPUyA4LCBtYWtpbmcgaXQgbmVjZXNzYXJ5IGZvciBhcHBzIHRvXHJcbiAgICogZXhwbGljaXRseSByZXF1ZXN0IHBlcm1pc3Npb25zIHZpYSBtZXRob2RzIGxpa2UgdGhlc2U6XHJcbiAgICogPGEgaHJlZj1cImh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L3ByZXJlbGVhc2UvaU9TL2RvY3VtZW50YXRpb24vQ29yZUxvY2F0aW9uL1JlZmVyZW5jZS9DTExvY2F0aW9uTWFuYWdlcl9DbGFzcy9pbmRleC5odG1sIy8vYXBwbGVfcmVmL29jYy9pbnN0bS9DTExvY2F0aW9uTWFuYWdlci9yZXF1ZXN0V2hlbkluVXNlQXV0aG9yaXphdGlvblwiPnJlcXVlc3RXaGVuSW5Vc2VBdXRob3JpemF0aW9uPC9hPlxyXG4gICAqIDxhIGhyZWY9XCJodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9wcmVyZWxlYXNlL2lPUy9kb2N1bWVudGF0aW9uL0NvcmVMb2NhdGlvbi9SZWZlcmVuY2UvQ0xMb2NhdGlvbk1hbmFnZXJfQ2xhc3MvaW5kZXguaHRtbCMvL2FwcGxlX3JlZi9vY2MvaW5zdG0vQ0xMb2NhdGlvbk1hbmFnZXIvcmVxdWVzdEFsd2F5c0F1dGhvcml6YXRpb25cIj5yZXF1ZXN0QWx3YXlzQXV0aG9yaXphdGlvbjwvYT5cclxuICAgKlxyXG4gICAqIElmIHlvdSBhcmUgdXNpbmcgdGhpcyBwbHVnaW4gb24gQW5kcm9pZCBkZXZpY2VzIG9ubHksIHlvdSB3aWxsIG5ldmVyIGhhdmUgdG8gdXNlIHRoaXMsIG5vciB7QGNvZGUgcmVxdWVzdEFsd2F5c0F1dGhvcml6YXRpb259XHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgcmVxdWVzdCBkaWFsb2cgaXMgc2hvd24uXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICByZXF1ZXN0V2hlbkluVXNlQXV0aG9yaXphdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNlZSB0aGUgZG9jdW1lbnRhdGlvbiBvZiB7QGNvZGUgcmVxdWVzdFdoZW5JblVzZUF1dGhvcml6YXRpb259IGZvciBmdXJ0aGVyIGRldGFpbHMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2hlbiB0aGUgbmF0aXZlIGxheWVyXHJcbiAgICogc2hvd3MgdGhlIHJlcXVlc3QgZGlhbG9nLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgcmVxdWVzdEFsd2F5c0F1dGhvcml6YXRpb24oKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFJlZ2lvbltdPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhbiB7QXJyYXl9XHJcbiAgICogb2Yge1JlZ2lvbn0gaW5zdGFuY2VzIHRoYXQgYXJlIGJlaW5nIG1vbml0b3JlZCBieSB0aGUgbmF0aXZlIGxheWVyLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgZ2V0TW9uaXRvcmVkUmVnaW9ucygpOiBQcm9taXNlPFJlZ2lvbltdPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPFJlZ2lvbltdPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhbiB7QXJyYXl9XHJcbiAgICogb2Yge1JlZ2lvbn0gaW5zdGFuY2VzIHRoYXQgYXJlIGJlaW5nIHJhbmdlZCBieSB0aGUgbmF0aXZlIGxheWVyLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgZ2V0UmFuZ2VkUmVnaW9ucygpOiBQcm9taXNlPFJlZ2lvbltdPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIGlmIHJhbmdpbmcgaXMgYXZhaWxhYmxlIG9yIG5vdCwgYWNjb3JkaW5nIHRvIHRoZSBuYXRpdmUgbGF5ZXIuXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8Ym9vbGVhbj59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIHdpdGggYSB7Qm9vbGVhbn1cclxuICAgKiBpbmRpY2F0aW5nIHdoZXRoZXIgcmFuZ2luZyBpcyBhdmFpbGFibGUgb3Igbm90LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgaXNSYW5naW5nQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lcyBpZiByZWdpb24gdHlwZSBpcyBzdXBwb3J0ZWQgb3Igbm90LCBhY2NvcmRpbmcgdG8gdGhlIG5hdGl2ZSBsYXllci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnaW9ufSByZWdpb24gQW4gaW5zdGFuY2Ugb2Yge1JlZ2lvbn0gd2hpY2ggd2lsbCBiZSBjaGVja2VkXHJcbiAgICogYnkgdGhlIG9wZXJhdGluZyBzeXN0ZW0uXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxyXG4gICAqIGluZGljYXRpbmcgd2hldGhlciB0aGUgcmVnaW9uIHR5cGUgaXMgc3VwcG9ydGVkIG9yIG5vdC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGlzTW9uaXRvcmluZ0F2YWlsYWJsZUZvckNsYXNzKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdGFydCBhZHZlcnRpc2luZyB0aGUgc3BlY2lmaWVkIHJlZ2lvbi5cclxuICAgKlxyXG4gICAqIElmIGEgcmVnaW9uIGEgZGlmZmVyZW50IGlkZW50aWZpZXIgaXMgYWxyZWFkeSBiZWluZyBhZHZlcnRpc2VkIGZvclxyXG4gICAqIHRoaXMgYXBwbGljYXRpb24sIGl0IHdpbGwgYmUgcmVwbGFjZWQgd2l0aCB0aGUgbmV3IGlkZW50aWZpZXIuXHJcbiAgICpcclxuICAgKiBUaGlzIGNhbGwgd2lsbCBhY2NlcHQgYSB2YWxpZCBiZWFjb24gZXZlbiB3aGVuIG5vIEJsdWVUb290aCBpcyBhdmFpbGFibGUsXHJcbiAgICogYW5kIHdpbGwgc3RhcnQgd2hlbiBCbHVlVG9vdGggaXMgcG93ZXJlZCBvbi4gU2VlIHtJQmVhY29uRGVsZWdhdGUufVxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSZWdpb259IHJlZ2lvbiBBbiBpbnN0YW5jZSBvZiB7UmVnaW9ufSB3aGljaCB3aWxsIGJlIGFkdmVydGlzZWRcclxuICAgKiBieSB0aGUgb3BlcmF0aW5nIHN5c3RlbS5cclxuICAgKiBAcGFyYW0ge0ludGVnZXJ9IG1lYXN1cmVkUG93ZXI6IE9wdGlvbmFsIHBhcmFtZXRlciwgaWYgbGVmdCBlbXB0eSwgdGhlIGRldmljZSB3aWxsXHJcbiAgICogdXNlIGl0J3Mgb3duIGRlZmF1bHQgdmFsdWUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgYWR2ZXJ0aXNpbmcgcmVxdWVzdC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIHN0YXJ0QWR2ZXJ0aXNpbmcocmVnaW9uOiBSZWdpb24sIG1lYXN1cmVkUG93ZXI/OiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0b3AgYWR2ZXJ0aXNpbmcgYXMgYSBiZWFjb24uXHJcbiAgICpcclxuICAgKiBUaGlzIGlzIGRvbmUgYXN5bmNocm9ub3VzbHkgYW5kIG1heSBub3QgYmUgaW1tZWRpYXRlbHkgcmVmbGVjdGVkIGluIGlzQWR2ZXJ0aXNpbmcuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgYWNrbm93bGVkZ2VkIHRoZSBkaXNwYXRjaCBvZiB0aGUgcmVxdWVzdCB0byBzdG9wIGFkdmVydGlzaW5nLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgc3RvcEFkdmVydGlzaW5nKHJlZ2lvbjogUmVnaW9uKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIGlmIGFkdmVydGlzaW5nIGlzIGF2YWlsYWJsZSBvciBub3QsIGFjY29yZGluZyB0byB0aGUgbmF0aXZlIGxheWVyLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aGljaCBpcyByZXNvbHZlZCB3aXRoIGEge0Jvb2xlYW59XHJcbiAgICogaW5kaWNhdGluZyB3aGV0aGVyIGFkdmVydGlzaW5nIGlzIGF2YWlsYWJsZSBvciBub3QuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBpc0FkdmVydGlzaW5nQXZhaWxhYmxlKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lcyBpZiBhZHZlcnRpc2luZyBpcyBjdXJyZW50bHkgYWN0aXZlLCBhY2NvcmRpbmcgdG8gdGhlIG5hdGl2ZSBsYXllci5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCBhIHtCb29sZWFufVxyXG4gICAqIGluZGljYXRpbmcgd2hldGhlciBhZHZlcnRpc2luZyBpcyBhY3RpdmUuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBpc0FkdmVydGlzaW5nKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGlzYWJsZXMgZGVidWcgbG9nZ2luZyBpbiB0aGUgbmF0aXZlIGxheWVyLiBVc2UgdGhpcyBtZXRob2QgaWYgeW91IHdhbnRcclxuICAgKiB0byBwcmV2ZW50IHRoaXMgcGx1Z2luIGZyb20gd3JpdGluZyB0byB0aGUgZGV2aWNlIGxvZ3MuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgYXMgc29vbiBhcyB0aGVcclxuICAgKiBuYXRpdmUgbGF5ZXIgaGFzIHNldCB0aGUgbG9nZ2luZyBsZXZlbCBhY2NvcmRpbmdseS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGRpc2FibGVEZWJ1Z0xvZ3MoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFbmFibGVzIHRoZSBwb3N0aW5nIG9mIGRlYnVnIG5vdGlmaWNhdGlvbnMgaW4gdGhlIG5hdGl2ZSBsYXllci4gVXNlIHRoaXMgbWV0aG9kIGlmIHlvdSB3YW50XHJcbiAgICogdG8gYWxsb3cgdGhlIHBsdWdpbiB0aGUgcG9zdGluZyBsb2NhbCBub3RpZmljYXRpb25zLlxyXG4gICAqIFRoaXMgY2FuIGJlIHZlcnkgaGVscGZ1bCB3aGVuIGRlYnVnZ2luZyBob3cgdG8gYXBwcyBiZWhhdmUgd2hlbiBsYXVuY2hlZCBpbnRvIHRoZSBiYWNrZ3JvdW5kLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXHJcbiAgICogbmF0aXZlIGxheWVyIGhhcyBzZXQgdGhlIGZsYWcgdG8gZW5hYmxlZC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7IG90aGVyUHJvbWlzZTogdHJ1ZSB9KVxyXG4gIGVuYWJsZURlYnVnTm90aWZpY2F0aW9ucygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERpc2FibGVzIHRoZSBwb3N0aW5nIG9mIGRlYnVnIG5vdGlmaWNhdGlvbnMgaW4gdGhlIG5hdGl2ZSBsYXllci4gVXNlIHRoaXMgbWV0aG9kIGlmIHlvdSB3YW50XHJcbiAgICogdG8gcHJldmVudCB0aGUgcGx1Z2luIGZyb20gcG9zdGluZyBsb2NhbCBub3RpZmljYXRpb25zLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXHJcbiAgICogbmF0aXZlIGxheWVyIGhhcyBzZXQgdGhlIGZsYWcgdG8gZGlzYWJsZWQuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBkaXNhYmxlRGVidWdOb3RpZmljYXRpb25zKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRW5hYmxlcyBkZWJ1ZyBsb2dnaW5nIGluIHRoZSBuYXRpdmUgbGF5ZXIuIFVzZSB0aGlzIG1ldGhvZCBpZiB5b3Ugd2FudFxyXG4gICAqIGEgZGVidWcgdGhlIGlubmVyIHdvcmtpbmdzIG9mIHRoaXMgcGx1Z2luLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59IFJldHVybnMgYSBwcm9taXNlIHdoaWNoIGlzIHJlc29sdmVkIGFzIHNvb24gYXMgdGhlXHJcbiAgICogbmF0aXZlIGxheWVyIGhhcyBzZXQgdGhlIGxvZ2dpbmcgbGV2ZWwgYWNjb3JkaW5nbHkuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBvdGhlclByb21pc2U6IHRydWUgfSlcclxuICBlbmFibGVEZWJ1Z0xvZ3MoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBcHBlbmRzIHRoZSBwcm92aWRlZCBbbWVzc2FnZV0gdG8gdGhlIGRldmljZSBsb2dzLlxyXG4gICAqIE5vdGU6IElmIGRlYnVnIGxvZ2dpbmcgaXMgdHVybmVkIG9mZiwgdGhpcyB3b24ndCBkbyBhbnl0aGluZy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGFwcGVuZCB0byB0aGUgZGV2aWNlIGxvZ3MuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gUmV0dXJucyBhIHByb21pc2Ugd2hpY2ggaXMgcmVzb2x2ZWQgd2l0aCB0aGUgbG9nXHJcbiAgICogbWVzc2FnZSByZWNlaXZlZCBieSB0aGUgbmF0aXZlIGxheWVyIGZvciBhcHBlbmRpbmcuIFRoZSByZXR1cm5lZCBtZXNzYWdlXHJcbiAgICogaXMgZXhwZWN0ZWQgdG8gYmUgZXF1aXZhbGVudCB0byB0aGUgb25lIHByb3ZpZGVkIGluIHRoZSBvcmlnaW5hbCBjYWxsLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgb3RoZXJQcm9taXNlOiB0cnVlIH0pXHJcbiAgYXBwZW5kVG9EZXZpY2VMb2cobWVzc2FnZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG59XHJcbiJdfQ==