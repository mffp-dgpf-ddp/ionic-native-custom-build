var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
import { IonicNativePlugin, cordova } from '@ionic-native/core';
import { Observable } from 'rxjs';
var BLEOriginal = /** @class */ (function (_super) {
    __extends(BLEOriginal, _super);
    function BLEOriginal() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    BLEOriginal.prototype.scan = function (services, seconds) { return cordova(this, "scan", { "observable": true }, arguments); };
    BLEOriginal.prototype.startScan = function (services) { return cordova(this, "startScan", { "observable": true, "clearFunction": "stopScan", "clearWithArgs": false }, arguments); };
    BLEOriginal.prototype.startScanWithOptions = function (services, options) { return cordova(this, "startScanWithOptions", { "observable": true, "clearFunction": "stopScan", "clearWithArgs": false }, arguments); };
    BLEOriginal.prototype.stopScan = function () { return cordova(this, "stopScan", {}, arguments); };
    BLEOriginal.prototype.connect = function (deviceId) { return cordova(this, "connect", { "observable": true, "clearFunction": "disconnect", "clearWithArgs": true }, arguments); };
    BLEOriginal.prototype.autoConnect = function (deviceId, connectCallback, disconnectCallback) { return cordova(this, "autoConnect", { "sync": true }, arguments); };
    BLEOriginal.prototype.requestMtu = function (deviceId, mtuSize) { return cordova(this, "requestMtu", {}, arguments); };
    BLEOriginal.prototype.refreshDeviceCache = function (deviceId, timeoutMillis) { return cordova(this, "refreshDeviceCache", {}, arguments); };
    BLEOriginal.prototype.disconnect = function (deviceId) { return cordova(this, "disconnect", {}, arguments); };
    BLEOriginal.prototype.read = function (deviceId, serviceUUID, characteristicUUID) { return cordova(this, "read", {}, arguments); };
    BLEOriginal.prototype.write = function (deviceId, serviceUUID, characteristicUUID, value) { return cordova(this, "write", {}, arguments); };
    BLEOriginal.prototype.writeWithoutResponse = function (deviceId, serviceUUID, characteristicUUID, value) { return cordova(this, "writeWithoutResponse", {}, arguments); };
    BLEOriginal.prototype.startNotification = function (deviceId, serviceUUID, characteristicUUID) { return cordova(this, "startNotification", { "observable": true, "destruct": true, "clearFunction": "stopNotification", "clearWithArgs": true }, arguments); };
    BLEOriginal.prototype.stopNotification = function (deviceId, serviceUUID, characteristicUUID) { return cordova(this, "stopNotification", {}, arguments); };
    BLEOriginal.prototype.isConnected = function (deviceId) { return cordova(this, "isConnected", {}, arguments); };
    BLEOriginal.prototype.isEnabled = function () { return cordova(this, "isEnabled", {}, arguments); };
    BLEOriginal.prototype.startStateNotifications = function () { return cordova(this, "startStateNotifications", { "observable": true, "clearFunction": "stopStateNotifications", "clearWithArgs": false }, arguments); };
    BLEOriginal.prototype.stopStateNotifications = function () { return cordova(this, "stopStateNotifications", {}, arguments); };
    BLEOriginal.prototype.showBluetoothSettings = function () { return cordova(this, "showBluetoothSettings", {}, arguments); };
    BLEOriginal.prototype.enable = function () { return cordova(this, "enable", {}, arguments); };
    BLEOriginal.prototype.readRSSI = function (deviceId) { return cordova(this, "readRSSI", {}, arguments); };
    BLEOriginal.prototype.connectedPeripheralsWithServices = function (services) { return cordova(this, "connectedPeripheralsWithServices", {}, arguments); };
    BLEOriginal.prototype.peripheralsWithIdentifiers = function (uuids) { return cordova(this, "peripheralsWithIdentifiers", {}, arguments); };
    BLEOriginal.prototype.bondedDevices = function () { return cordova(this, "bondedDevices", {}, arguments); };
    BLEOriginal.prototype.isLocationEnabled = function () { return cordova(this, "isLocationEnabled", {}, arguments); };
    BLEOriginal.pluginName = "BLE";
    BLEOriginal.plugin = "cordova-plugin-ble-central";
    BLEOriginal.pluginRef = "ble";
    BLEOriginal.repo = "https://github.com/don/cordova-plugin-ble-central";
    BLEOriginal.platforms = ["Android", "iOS"];
    return BLEOriginal;
}(IonicNativePlugin));
var BLE = new BLEOriginal();
export { BLE };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2JsZS9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ0EsT0FBTyw4QkFBc0MsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDOztJQXVMVCx1QkFBaUI7Ozs7SUFpQnhDLGtCQUFJLGFBQUMsUUFBa0IsRUFBRSxPQUFlO0lBeUJ4Qyx1QkFBUyxhQUFDLFFBQWtCO0lBZTVCLGtDQUFvQixhQUFDLFFBQWtCLEVBQUUsT0FBdUI7SUFtQmhFLHNCQUFRO0lBdUJSLHFCQUFPLGFBQUMsUUFBZ0I7SUFnQ3hCLHlCQUFXLGFBQUMsUUFBZ0IsRUFBRSxlQUFvQixFQUFFLGtCQUF1QjtJQW9CM0Usd0JBQVUsYUFBQyxRQUFnQixFQUFFLE9BQWU7SUFzQjVDLGdDQUFrQixhQUFDLFFBQWdCLEVBQUUsYUFBcUI7SUFnQjFELHdCQUFVLGFBQUMsUUFBZ0I7SUFhM0Isa0JBQUksYUFBQyxRQUFnQixFQUFFLFdBQW1CLEVBQUUsa0JBQTBCO0lBaUN0RSxtQkFBSyxhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEIsRUFBRSxLQUFrQjtJQWMzRixrQ0FBb0IsYUFDbEIsUUFBZ0IsRUFDaEIsV0FBbUIsRUFDbkIsa0JBQTBCLEVBQzFCLEtBQWtCO0lBNEJwQiwrQkFBaUIsYUFBQyxRQUFnQixFQUFFLFdBQW1CLEVBQUUsa0JBQTBCO0lBYW5GLDhCQUFnQixhQUFDLFFBQWdCLEVBQUUsV0FBbUIsRUFBRSxrQkFBMEI7SUFrQmxGLHlCQUFXLGFBQUMsUUFBZ0I7SUFVNUIsdUJBQVM7SUFxQlQscUNBQXVCO0lBVXZCLG9DQUFzQjtJQVV0QixtQ0FBcUI7SUFVckIsb0JBQU07SUFZTixzQkFBUSxhQUFDLFFBQWdCO0lBYXpCLDhDQUFnQyxhQUFDLFFBQWtCO0lBWW5ELHdDQUEwQixhQUFDLEtBQWU7SUFXMUMsMkJBQWE7SUFXYiwrQkFBaUI7Ozs7OztjQXptQm5CO0VBeUx5QixpQkFBaUI7U0FBN0IsR0FBRyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29yZG92YSwgSW9uaWNOYXRpdmVQbHVnaW4sIFBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQkxFU2Nhbk9wdGlvbnMge1xyXG4gIC8qKiB0cnVlIGlmIGR1cGxpY2F0ZSBkZXZpY2VzIHNob3VsZCBiZSByZXBvcnRlZCwgZmFsc2UgKGRlZmF1bHQpIGlmIGRldmljZXMgc2hvdWxkIG9ubHkgYmUgcmVwb3J0ZWQgb25jZS4gICovXHJcbiAgcmVwb3J0RHVwbGljYXRlcz86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBCTEVcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoaXMgcGx1Z2luIGVuYWJsZXMgY29tbXVuaWNhdGlvbiBiZXR3ZWVuIGEgcGhvbmUgYW5kIEJsdWV0b290aCBMb3cgRW5lcmd5IChCTEUpIHBlcmlwaGVyYWxzLlxyXG4gKlxyXG4gKiBUaGUgcGx1Z2luIHByb3ZpZGVzIGEgc2ltcGxlIEphdmFTY3JpcHQgQVBJIGZvciBpT1MgYW5kIEFuZHJvaWQuXHJcbiAqXHJcbiAqIC0gU2NhbiBmb3IgcGVyaXBoZXJhbHNcclxuICogLSBDb25uZWN0IHRvIGEgcGVyaXBoZXJhbFxyXG4gKiAtIFJlYWQgdGhlIHZhbHVlIG9mIGEgY2hhcmFjdGVyaXN0aWNcclxuICogLSBXcml0ZSBuZXcgdmFsdWUgdG8gYSBjaGFyYWN0ZXJpc3RpY1xyXG4gKiAtIEdldCBub3RpZmllZCB3aGVuIGNoYXJhY3RlcmlzdGljJ3MgdmFsdWUgY2hhbmdlc1xyXG4gKlxyXG4gKiBBZHZlcnRpc2luZyBpbmZvcm1hdGlvbiBpcyByZXR1cm5lZCB3aGVuIHNjYW5uaW5nIGZvciBwZXJpcGhlcmFscy4gU2VydmljZSwgY2hhcmFjdGVyaXN0aWMsIGFuZCBwcm9wZXJ0eSBpbmZvIGlzIHJldHVybmVkIHdoZW4gY29ubmVjdGluZyB0byBhIHBlcmlwaGVyYWwuIEFsbCBhY2Nlc3MgaXMgdmlhIHNlcnZpY2UgYW5kIGNoYXJhY3RlcmlzdGljIFVVSURzLiBUaGUgcGx1Z2luIG1hbmFnZXMgaGFuZGxlcyBpbnRlcm5hbGx5LlxyXG4gKlxyXG4gKiBTaW11bHRhbmVvdXMgY29ubmVjdGlvbnMgdG8gbXVsdGlwbGUgcGVyaXBoZXJhbHMgYXJlIHN1cHBvcnRlZC5cclxuICpcclxuICogQHVzYWdlXHJcbiAqXHJcbiAqIGBgYHR5cGVzY3JpcHRcclxuICpcclxuICogaW1wb3J0IHsgQkxFIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9ibGUvbmd4JztcclxuICpcclxuICogY29uc3RydWN0b3IocHJpdmF0ZSBibGU6IEJMRSkgeyB9XHJcbiAqXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIyBQZXJpcGhlcmFsIERhdGFcclxuICpcclxuICogUGVyaXBoZXJhbCBEYXRhIGlzIHBhc3NlZCB0byB0aGUgc3VjY2VzcyBjYWxsYmFjayB3aGVuIHNjYW5uaW5nIGFuZCBjb25uZWN0aW5nLiBMaW1pdGVkIGRhdGEgaXMgcGFzc2VkIHdoZW4gc2Nhbm5pbmcuXHJcbiAqXHJcbiAqIGBgYHR5cGVzY3JpcHRcclxuICogICB7XHJcbiAqICAgICAgICduYW1lJzogJ0JhdHRlcnkgRGVtbycsXHJcbiAqICAgICAgICdpZCc6ICcyMDpGRjpEMDpGRjpEMTpDMCcsXHJcbiAqICAgICAgICdhZHZlcnRpc2luZyc6IFsyLDEsNiwzLDMsMTUsMjQsOCw5LDY2LDk3LDExNiwxMTYsMTAxLDExNCwxMjFdLFxyXG4gKiAgICAgICAncnNzaSc6IC01NVxyXG4gKiAgIH1cclxuICogYGBgXHJcbiAqIEFmdGVyIGNvbm5lY3RpbmcsIHRoZSBwZXJpcGhlcmFsIG9iamVjdCBhbHNvIGluY2x1ZGVzIHNlcnZpY2UsIGNoYXJhY3RlcmlzdGljIGFuZCBkZXNjcmlwdG9yIGluZm9ybWF0aW9uLlxyXG4gKlxyXG4gKiBgYGB0eXBlc2NyaXB0XHJcbiAqICAge1xyXG4gKiAgICAgICAnbmFtZSc6ICdCYXR0ZXJ5IERlbW8nLFxyXG4gKiAgICAgICAnaWQnOiAnMjA6RkY6RDA6RkY6RDE6QzAnLFxyXG4gKiAgICAgICAnYWR2ZXJ0aXNpbmcnOiBbMiwxLDYsMywzLDE1LDI0LDgsOSw2Niw5NywxMTYsMTE2LDEwMSwxMTQsMTIxXSxcclxuICogICAgICAgJ3Jzc2knOiAtNTUsXHJcbiAqICAgICAgICdzZXJ2aWNlcyc6IFtcclxuICogICAgICAgICAgICcxODAwJyxcclxuICogICAgICAgICAgICcxODAxJyxcclxuICogICAgICAgICAgICcxODBmJ1xyXG4gKiAgICAgICBdLFxyXG4gKiAgICAgICAnY2hhcmFjdGVyaXN0aWNzJzogW1xyXG4gKiAgICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgICdzZXJ2aWNlJzogJzE4MDAnLFxyXG4gKiAgICAgICAgICAgICAgICdjaGFyYWN0ZXJpc3RpYyc6ICcyYTAwJyxcclxuICogICAgICAgICAgICAgICAncHJvcGVydGllcyc6IFtcclxuICogICAgICAgICAgICAgICAgICAgJ1JlYWQnXHJcbiAqICAgICAgICAgICAgICAgXVxyXG4gKiAgICAgICAgICAgfSxcclxuICogICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAnc2VydmljZSc6ICcxODAwJyxcclxuICogICAgICAgICAgICAgICAnY2hhcmFjdGVyaXN0aWMnOiAnMmEwMScsXHJcbiAqICAgICAgICAgICAgICAgJ3Byb3BlcnRpZXMnOiBbXHJcbiAqICAgICAgICAgICAgICAgICAgICdSZWFkJ1xyXG4gKiAgICAgICAgICAgICAgIF1cclxuICogICAgICAgICAgIH0sXHJcbiAqICAgICAgICAgICB7XHJcbiAqICAgICAgICAgICAgICAgJ3NlcnZpY2UnOiAnMTgwMScsXHJcbiAqICAgICAgICAgICAgICAgJ2NoYXJhY3RlcmlzdGljJzogJzJhMDUnLFxyXG4gKiAgICAgICAgICAgICAgICdwcm9wZXJ0aWVzJzogW1xyXG4gKiAgICAgICAgICAgICAgICAgICAnUmVhZCdcclxuICogICAgICAgICAgICAgICBdXHJcbiAqICAgICAgICAgICB9LFxyXG4gKiAgICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgICdzZXJ2aWNlJzogJzE4MGYnLFxyXG4gKiAgICAgICAgICAgICAgICdjaGFyYWN0ZXJpc3RpYyc6ICcyYTE5JyxcclxuICogICAgICAgICAgICAgICAncHJvcGVydGllcyc6IFtcclxuICogICAgICAgICAgICAgICAgICAgJ1JlYWQnXHJcbiAqICAgICAgICAgICAgICAgXSxcclxuICogICAgICAgICAgICAgICAnZGVzY3JpcHRvcnMnOiBbXHJcbiAqICAgICAgICAgICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAgICAgICAgICd1dWlkJzogJzI5MDEnXHJcbiAqICAgICAgICAgICAgICAgICAgIH0sXHJcbiAqICAgICAgICAgICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAgICAgICAgICd1dWlkJzogJzI5MDQnXHJcbiAqICAgICAgICAgICAgICAgICAgIH1cclxuICogICAgICAgICAgICAgICBdXHJcbiAqICAgICAgICAgICB9XHJcbiAqICAgICAgIF1cclxuICogICB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIyBBZHZlcnRpc2luZyBEYXRhXHJcbiAqIEJsdWV0b290aCBhZHZlcnRpc2luZyBkYXRhIGlzIHJldHVybmVkIGluIHdoZW4gc2Nhbm5pbmcgZm9yIGRldmljZXMuIFRoZSBmb3JtYXQgdmFyaWVzIGRlcGVuZGluZyBvbiB5b3VyIHBsYXRmb3JtLiBPbiBBbmRyb2lkIGFkdmVydGlzaW5nIGRhdGEgd2lsbCBiZSB0aGUgcmF3IGFkdmVydGlzaW5nIGJ5dGVzLiBpT1MgZG9lcyBub3QgYWxsb3cgYWNjZXNzIHRvIHJhdyBhZHZlcnRpc2luZyBkYXRhLCBzbyBhIGRpY3Rpb25hcnkgb2YgZGF0YSBpcyByZXR1cm5lZC5cclxuICpcclxuICogVGhlIGFkdmVydGlzaW5nIGluZm9ybWF0aW9uIGZvciBib3RoIEFuZHJvaWQgYW5kIGlPUyBhcHBlYXJzIHRvIGJlIGEgY29tYmluYXRpb24gb2YgYWR2ZXJ0aXNpbmcgZGF0YSBhbmQgc2NhbiByZXNwb25zZSBkYXRhLlxyXG4gKlxyXG4gKiAjIyMgQW5kcm9pZFxyXG4gKlxyXG4gKiBgYGB0eXBlc2NyaXB0XHJcbiAqICAge1xyXG4gKiAgICAgICAnbmFtZSc6ICdkZW1vJyxcclxuICogICAgICAgJ2lkJzogJzAwOjFBOjdEOkRBOjcxOjEzJyxcclxuICogICAgICAgJ2FkdmVydGlzaW5nJzogQXJyYXlCdWZmZXIsXHJcbiAqICAgICAgJ3Jzc2knOiAtMzdcclxuICogIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIENvbnZlcnQgdGhlIGFkdmVydGlzaW5nIGluZm8gdG8gYSBVaW50OEFycmF5IGZvciBwcm9jZXNzaW5nLiBgdmFyIGFkRGF0YSA9IG5ldyBVaW50OEFycmF5KHBlcmlwaGVyYWwuYWR2ZXJ0aXNpbmcpYFxyXG4gKlxyXG4gKiAjIyMgaU9TXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCBpT1MgdXNlcyB0aGUgc3RyaW5nIHZhbHVlIG9mIHRoZSBjb25zdGFudHMgZm9yIHRoZSBbQWR2ZXJ0aXNlbWVudCBEYXRhIFJldHJpZXZhbCBLZXlzXShodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9pb3MvZG9jdW1lbnRhdGlvbi9Db3JlQmx1ZXRvb3RoL1JlZmVyZW5jZS9DQkNlbnRyYWxNYW5hZ2VyRGVsZWdhdGVfUHJvdG9jb2wvaW5kZXguaHRtbCMvL2FwcGxlX3JlZi9kb2MvY29uc3RhbnRfZ3JvdXAvQWR2ZXJ0aXNlbWVudF9EYXRhX1JldHJpZXZhbF9LZXlzKS4gVGhpcyB3aWxsIGxpa2VseSBjaGFuZ2UgaW4gdGhlIGZ1dHVyZS5cclxuICpcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKiAgIHtcclxuICogICAgICAgJ25hbWUnOiAnZGVtbycsXHJcbiAqICAgICAgICdpZCc6ICdEODQ3OUE0Ri03NTE3LUJDRDMtOTFCNS0zMzAyQjJGODE4MDInLFxyXG4gKiAgICAgICAnYWR2ZXJ0aXNpbmcnOiB7XHJcbiAqICAgICAgICAgICAna0NCQWR2RGF0YUNoYW5uZWwnOiAzNyxcclxuICogICAgICAgICAgICdrQ0JBZHZEYXRhU2VydmljZURhdGEnOiB7XHJcbiAqICAgICAgICAgICAgICAgJ0ZFRDgnOiB7XHJcbiAqICAgICAgICAgICAgICAgICAgICdieXRlTGVuZ3RoJzogNyAvLyBkYXRhIG5vdCBzaG93blxyXG4gKiAgICAgICAgICAgICAgIH1cclxuICogICAgICAgICAgIH0sXHJcbiAqICAgICAgICAgICAna0NCQWR2RGF0YUxvY2FsTmFtZSc6ICdkZW1vJyxcclxuICogICAgICAgICAgICdrQ0JBZHZEYXRhU2VydmljZVVVSURzJzogWydGRUQ4J10sXHJcbiAqICAgICAgICAgICAna0NCQWR2RGF0YU1hbnVmYWN0dXJlckRhdGEnOiB7XHJcbiAqICAgICAgICAgICAgICAgJ2J5dGVMZW5ndGgnOiA3ICAvLyBkYXRhIG5vdCBzaG93blxyXG4gKiAgICAgICAgICAgfSxcclxuICogICAgICAgICAgICdrQ0JBZHZEYXRhVHhQb3dlckxldmVsJzogMzIsXHJcbiAqICAgICAgICAgICAna0NCQWR2RGF0YUlzQ29ubmVjdGFibGUnOiB0cnVlXHJcbiAqICAgICAgIH0sXHJcbiAqICAgICAgICdyc3NpJzogLTUzXHJcbiAqICAgfVxyXG4gKiBgYGBcclxuICpcclxuICogIyMgVHlwZWQgQXJyYXlzXHJcbiAqXHJcbiAqIFRoaXMgcGx1Z2luIHVzZXMgdHlwZWQgQXJyYXlzIG9yIEFycmF5QnVmZmVycyBmb3Igc2VuZGluZyBhbmQgcmVjZWl2aW5nIGRhdGEuXHJcbiAqXHJcbiAqIFRoaXMgbWVhbnMgdGhhdCB5b3UgbmVlZCBjb252ZXJ0IHlvdXIgZGF0YSB0byBBcnJheUJ1ZmZlcnMgYmVmb3JlIHNlbmRpbmcgYW5kIGZyb20gQXJyYXlCdWZmZXJzIHdoZW4gcmVjZWl2aW5nLlxyXG4gKlxyXG4gKiBgYGB0eXBlc2NyaXB0XHJcbiAqICAgLy8gQVNDSUkgb25seVxyXG4gKiAgIGZ1bmN0aW9uIHN0cmluZ1RvQnl0ZXMoc3RyaW5nKSB7XHJcbiAqICAgICAgdmFyIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoc3RyaW5nLmxlbmd0aCk7XHJcbiAqICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBzdHJpbmcubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAqICAgICAgICAgIGFycmF5W2ldID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XHJcbiAqICAgICAgIH1cclxuICogICAgICAgcmV0dXJuIGFycmF5LmJ1ZmZlcjtcclxuICogICB9XHJcbiAqXHJcbiAqICAgLy8gQVNDSUkgb25seVxyXG4gKiAgIGZ1bmN0aW9uIGJ5dGVzVG9TdHJpbmcoYnVmZmVyKSB7XHJcbiAqICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xyXG4gKiAgIH1cclxuICogYGBgXHJcbiAqIFlvdSBjYW4gcmVhZCBtb3JlIGFib3V0IHR5cGVkIGFycmF5cyBpbiB0aGVzZSBhcnRpY2xlcyBvbiBbTUROXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1R5cGVkX2FycmF5cykgYW5kIFtIVE1MNSBSb2Nrc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvd2ViZ2wvdHlwZWRfYXJyYXlzLykuXHJcbiAqXHJcbiAqICMjIFVVSURzXHJcbiAqXHJcbiAqIFVVSURzIGFyZSBhbHdheXMgc3RyaW5ncyBhbmQgbm90IG51bWJlcnMuIFNvbWUgMTYtYml0IFVVSURzLCBzdWNoIGFzICcyMjIwJyBsb29rIGxpa2UgaW50ZWdlcnMsIGJ1dCB0aGV5J3JlIG5vdC4gKFRoZSBpbnRlZ2VyIDIyMjAgaXMgMHg4QUMgaW4gaGV4LikgVGhpcyBpc24ndCBhIHByb2JsZW0gd2l0aCAxMjggYml0IFVVSURzIHNpbmNlIHRoZXkgbG9vayBsaWtlIHN0cmluZ3MgODJiOWU2ZTEtNTkzYS00NTZmLWJlOWItOTIxNTE2MGViY2FjLiBBbGwgMTYtYml0IFVVSURzIHNob3VsZCBhbHNvIGJlIHBhc3NlZCB0byBtZXRob2RzIGFzIHN0cmluZ3MuXHJcbiAqXHJcbiAqIEBpbnRlcmZhY2VzXHJcbiAqIEJMRVNjYW5PcHRpb25zXHJcbiAqL1xyXG5AUGx1Z2luKHtcclxuICBwbHVnaW5OYW1lOiAnQkxFJyxcclxuICBwbHVnaW46ICdjb3Jkb3ZhLXBsdWdpbi1ibGUtY2VudHJhbCcsXHJcbiAgcGx1Z2luUmVmOiAnYmxlJyxcclxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL2Rvbi9jb3Jkb3ZhLXBsdWdpbi1ibGUtY2VudHJhbCcsXHJcbiAgcGxhdGZvcm1zOiBbJ0FuZHJvaWQnLCAnaU9TJ10sXHJcbn0pXHJcbkBJbmplY3RhYmxlKClcclxuZXhwb3J0IGNsYXNzIEJMRSBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcclxuICAvKipcclxuICAgKiBTY2FuIGFuZCBkaXNjb3ZlciBCTEUgcGVyaXBoZXJhbHMgZm9yIHRoZSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiBCTEUuc2NhbihbXSwgNSkuc3Vic2NyaWJlKGRldmljZSA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShkZXZpY2UpKTtcclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzZXJ2aWNlcyAgTGlzdCBvZiBzZXJ2aWNlIFVVSURzIHRvIGRpc2NvdmVyLCBvciBgW11gIHRvIGZpbmQgYWxsIGRldmljZXNcclxuICAgKiBAcGFyYW0ge251bWJlcn0gc2Vjb25kcyAgTnVtYmVyIG9mIHNlY29uZHMgdG8gcnVuIGRpc2NvdmVyeVxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPGFueT59IFJldHVybnMgYW4gT2JzZXJ2YWJsZSB0aGF0IG5vdGlmaWVzIG9mIGVhY2ggcGVyaXBoZXJhbCB0aGF0IGlzIGRpc2NvdmVyZWQgZHVyaW5nIHRoZSBzcGVjaWZpZWQgdGltZS5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxyXG4gIH0pXHJcbiAgc2NhbihzZXJ2aWNlczogc3RyaW5nW10sIHNlY29uZHM6IG51bWJlcik6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTY2FuIGFuZCBkaXNjb3ZlciBCTEUgcGVyaXBoZXJhbHMgdW50aWwgYHN0b3BTY2FuYCBpcyBjYWxsZWQuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiBCTEUuc3RhcnRTY2FuKFtdKS5zdWJzY3JpYmUoZGV2aWNlID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGRldmljZSkpO1xyXG4gICAqIH0pO1xyXG4gICAqXHJcbiAgICogc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICogICBCTEUuc3RvcFNjYW4oKTtcclxuICAgKiB9LCA1MDAwKTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBzZXJ2aWNlcyAgTGlzdCBvZiBzZXJ2aWNlIFVVSURzIHRvIGRpc2NvdmVyLCBvciBgW11gIHRvIGZpbmQgYWxsIGRldmljZXNcclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxhbnk+fSBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBub3RpZmllcyBvZiBlYWNoIHBlcmlwaGVyYWwgZGlzY292ZXJlZC5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBvYnNlcnZhYmxlOiB0cnVlLFxyXG4gICAgY2xlYXJGdW5jdGlvbjogJ3N0b3BTY2FuJyxcclxuICAgIGNsZWFyV2l0aEFyZ3M6IGZhbHNlLFxyXG4gIH0pXHJcbiAgc3RhcnRTY2FuKHNlcnZpY2VzOiBzdHJpbmdbXSk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTY2FucyBmb3IgQkxFIGRldmljZXMuIFRoaXMgZnVuY3Rpb24gb3BlcmF0ZXMgc2ltaWxhcmx5IHRvIHRoZSBgc3RhcnRTY2FuYCBmdW5jdGlvbiwgYnV0IGFsbG93cyB5b3UgdG8gc3BlY2lmeSBleHRyYSBvcHRpb25zIChsaWtlIGFsbG93aW5nIGR1cGxpY2F0ZSBkZXZpY2UgcmVwb3J0cykuXHJcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gc2VydmljZXMgIExpc3Qgb2Ygc2VydmljZSBVVUlEcyB0byBkaXNjb3Zlciwgb3IgYFtdYCB0byBmaW5kIGFsbCBkZXZpY2VzXHJcbiAgICogQHBhcmFtIHtCTEVTY2FuT3B0aW9uc30gb3B0aW9ucyBPcHRpb25zXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgb2YgZWFjaCBwZXJpcGhlcmFsIGRpc2NvdmVyZWQuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcclxuICAgIGNsZWFyRnVuY3Rpb246ICdzdG9wU2NhbicsXHJcbiAgICBjbGVhcldpdGhBcmdzOiBmYWxzZSxcclxuICB9KVxyXG4gIHN0YXJ0U2NhbldpdGhPcHRpb25zKHNlcnZpY2VzOiBzdHJpbmdbXSwgb3B0aW9uczogQkxFU2Nhbk9wdGlvbnMpOiBPYnNlcnZhYmxlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RvcCBhIHNjYW4gc3RhcnRlZCBieSBgc3RhcnRTY2FuYC5cclxuICAgKlxyXG4gICAqIEB1c2FnZVxyXG4gICAqIGBgYFxyXG4gICAqIEJMRS5zdGFydFNjYW4oW10pLnN1YnNjcmliZShkZXZpY2UgPT4ge1xyXG4gICAqICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoZGV2aWNlKSk7XHJcbiAgICogfSk7XHJcbiAgICogc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICogICBCTEUuc3RvcFNjYW4oKS50aGVuKCgpID0+IHsgY29uc29sZS5sb2coJ3NjYW4gc3RvcHBlZCcpOyB9KTtcclxuICAgKiB9LCA1MDAwKTtcclxuICAgKiBgYGBcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBzdG9wU2NhbigpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ29ubmVjdCB0byBhIHBlcmlwaGVyYWwuXHJcbiAgICogQHVzYWdlXHJcbiAgICogYGBgXHJcbiAgICogICBCTEUuY29ubmVjdCgnMTI6MzQ6NTY6Nzg6OUE6QkMnKS5zdWJzY3JpYmUocGVyaXBoZXJhbERhdGEgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZyhwZXJpcGhlcmFsRGF0YSk7XHJcbiAgICogICB9LFxyXG4gICAqICAgcGVyaXBoZXJhbERhdGEgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZygnZGlzY29ubmVjdGVkJyk7XHJcbiAgICogICB9KTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxyXG4gICAqIEByZXR1cm4ge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgb2YgY29ubmVjdC9kaXNjb25uZWN0LlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIG9ic2VydmFibGU6IHRydWUsXHJcbiAgICBjbGVhckZ1bmN0aW9uOiAnZGlzY29ubmVjdCcsXHJcbiAgICBjbGVhcldpdGhBcmdzOiB0cnVlLFxyXG4gIH0pXHJcbiAgY29ubmVjdChkZXZpY2VJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVzdGFibGlzaCBhbiBhdXRvbWF0aWMgY29ubmVjdGlvbiB0byBhIHBlcmlwaGVyYWwuIFRoZSBwaG9uZSB3aWxsIGF1dG9tYXRpY2FsbHkgY29ubmVjdCB0byB0aGUgQmx1ZXRvb3RoIHBlcmlwaGVyYWxcclxuICAgKiB3aGVuZXZlciBpdCBpcyBpbiByYW5nZS4gVGhlIGF1dG9Db25uZWN0IGZ1bmN0aW9uIHVzZXMgY2FsbGJhY2tzIGluc3RlYWQgb2Ygb2JzZXJ2YWJsZXMgYmVjYXVzZSBjb25uZWN0IGFuZFxyXG4gICAqIGRpc2Nvbm5lY3QgY2FuIGVhY2ggYmUgY2FsbGVkIG1hbnkgdGltZXMgYXMgYSBkZXZpY2VzIGNvbm5lY3RzIGFuZCBkaXNjb25uZWN0cy5cclxuICAgKlxyXG4gICAqIE9uIEFuZHJvaWQgeW91IGNhbiBwYXNzIGEgTUFDIGFkZHJlc3MgZGlyZWN0bHkgdG8gYXV0b0Nvbm5lY3QuIFdpdGggaU9TLCB5b3UgbmVlZCB0byBnZXQgYSBkZXZpY2UgaWQgYnkgc2Nhbm5pbmcsXHJcbiAgICogY2FsbGluZyBibGUucGVyaXBoZXJhbHNXaXRoSWRlbnRpZmllcnMsIG9yIGNhbGxpbmcgYmxlLmNvbm5lY3RlZFBlcmlwaGVyYWxzV2l0aFNlcnZpY2VzLlxyXG4gICAqXHJcbiAgICogQHVzYWdlXHJcbiAgICogYGBgXHJcbiAgICogIHNvbWVGdW5jdGlvbigpIHtcclxuICAgKiAgICB0aGlzLmJsZS5hdXRvQ29ubmVjdChkZXZpY2VJZCwgb25Db25uZWN0ZWQuYmluZCh0aGlzKSwgb25EaXNjb25uZWN0ZWQuYmluZCh0aGlzKSk7XHJcbiAgICogIH1cclxuICAgKlxyXG4gICAqICBvbkNvbm5lY3RlZChwZXJpcGhlcmFsKSB7XHJcbiAgICogICAgY29uc29sZS5sb2coYENvbm5lY3RlZCB0byAke3BlcmlwaGVyYWwuaWR9YClsXHJcbiAgICogIH1cclxuICAgKlxyXG4gICAqICBvbkRpc2Nvbm5lY3RlZChwZXJpcGhlcmFsKSB7XHJcbiAgICogICAgY29uc29sZS5sb2coYERpc2Nvbm5lY3RlZCBmcm9tICR7cGVyaXBoZXJhbC5pZH1gKWxcclxuICAgKiAgfVxyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb25uZWN0Q2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBwZXJpcGhlcmFsIGRhdGEgd2hlbiB0aGUgZGV2aWNlcyBjb25uZWN0c1xyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGRpc2Nvbm5lY3RDYWxsYmFjayAgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBwZXJpcGhlcmFsIGRhdGEgd2hlbiB0aGUgZGV2aWNlcyBkaXNjb25uZWN0c1xyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxyXG4gIGF1dG9Db25uZWN0KGRldmljZUlkOiBzdHJpbmcsIGNvbm5lY3RDYWxsYmFjazogYW55LCBkaXNjb25uZWN0Q2FsbGJhY2s6IGFueSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVxdWVzdCBNVFUgc2l6ZS5cclxuICAgKiBNYXkgYmUgdXNlZCB0byBmaXggdGhlIEVycm9yIDE0IFwiVW5saWtlbHlcIiBvbiB3cml0ZSByZXF1ZXN0cyB3aXRoIG1vcmUgdGhhbiAyMCBieXRlcy5cclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiAgIEJMRS5yZXF1ZXN0TXR1KCcxMjozNDo1Njo3ODo5QTpCQycsIDUxMikudGhlbigoKSA9PiB7XHJcbiAgICogICAgIGNvbnNvbGUubG9nKCdNVFUgU2l6ZSBBY2NlcHRlZCcpO1xyXG4gICAqICAgfSwgZXJyb3IgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZygnTVRVIFNpemUgRmFpbGVkJyk7XHJcbiAgICogICB9KTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgVVVJRCBvciBNQUMgYWRkcmVzcyBvZiB0aGUgcGVyaXBoZXJhbFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtdHVTaXplIFRoZSBuZXcgTVRVIHNpemUuICgyMyAtIDUxNywgZGVmYXVsdCBpcyB1c3VhbGx5IDIzLiBNYXggcmVjb21tZW5kZWQ6IDUxMilcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICByZXF1ZXN0TXR1KGRldmljZUlkOiBzdHJpbmcsIG10dVNpemU6IG51bWJlcik6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWZyZXNoIERldmljZSBDYWNoZVxyXG4gICAqIFRoaXMgbWV0aG9kIG1heSBmaXggYSBpc3N1ZSBvZiBvbGQgY2FjaGVkIHNlcnZpY2VzIGFuZCBjaGFyYWN0ZXJpc3RpY3MuXHJcbiAgICogTk9URSBTaW5jZSB0aGlzIHVzZXMgYW4gdW5kb2N1bWVudGVkIEFQSSBpdCdzIG5vdCBndWFyYW50ZWVkIHRvIHdvcmsuXHJcbiAgICogSWYgeW91IGNob29zZSBhIHRvbyBsb3cgZGVsYXkgdGltZSAodGltZW91dE1pbGxpcykgdGhlIG1ldGhvZCBjb3VsZCBmYWlsLlxyXG4gICAqIEB1c2FnZVxyXG4gICAqIGBgYFxyXG4gICAqICAgQkxFLnJlZnJlc2hEZXZpY2VDYWNoZSgnMTI6MzQ6NTY6Nzg6OUE6QkMnLCAxMDAwMCkudGhlbihkaXNjb3ZlcmVkU2VydmljZXMgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZygnVGhlIG5ldyBkaXNjb3ZlcmVkIHNlcnZpY2VzIGFmdGVyIHRoZSBjbGVhbjogJywgZGlzY292ZXJlZFNlcnZpY2VzKTtcclxuICAgKiAgIH0sIGVycm9yID0+IHtcclxuICAgKiAgICAgY29uc29sZS5sb2coJ1JlZnJlc2ggZGV2aWNlIGNhY2hlIGZhaWxlZC4nKTtcclxuICAgKiAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkZXZpY2VJZCBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVvdXRNaWxsaXMgRGVsYXkgaW4gbWlsbGlzZWNvbmRzIGFmdGVyIHJlZnJlc2ggYmVmb3JlIGRpc2NvdmVyaW5nIHNlcnZpY2VzLlxyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2UuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHJlZnJlc2hEZXZpY2VDYWNoZShkZXZpY2VJZDogc3RyaW5nLCB0aW1lb3V0TWlsbGlzOiBudW1iZXIpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGlzY29ubmVjdCBmcm9tIGEgcGVyaXBoZXJhbC5cclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiAgIEJMRS5kaXNjb25uZWN0KCcxMjozNDo1Njo3ODo5QTpCQycpLnRoZW4oKCkgPT4ge1xyXG4gICAqICAgICBjb25zb2xlLmxvZygnRGlzY29ubmVjdGVkJyk7XHJcbiAgICogICB9KTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGRpc2Nvbm5lY3QoZGV2aWNlSWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWFkIHRoZSB2YWx1ZSBvZiBhIGNoYXJhY3RlcmlzdGljLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xyXG4gICAqIEByZXR1cm4ge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIFByb21pc2VcclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgcmVhZChkZXZpY2VJZDogc3RyaW5nLCBzZXJ2aWNlVVVJRDogc3RyaW5nLCBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXcml0ZSB0aGUgdmFsdWUgb2YgYSBjaGFyYWN0ZXJpc3RpYy5cclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiAvLyBzZW5kIDEgYnl0ZSB0byBzd2l0Y2ggYSBsaWdodCBvblxyXG4gICAqIHZhciBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoMSk7XHJcbiAgICogZGF0YVswXSA9IDE7XHJcbiAgICogQkxFLndyaXRlKGRldmljZV9pZCwgJ0ZGMTAnLCAnRkYxMScsIGRhdGEuYnVmZmVyKTtcclxuICAgKlxyXG4gICAqIC8vIHNlbmQgYSAzIGJ5dGUgdmFsdWUgd2l0aCBSR0IgY29sb3JcclxuICAgKiB2YXIgZGF0YSA9IG5ldyBVaW50OEFycmF5KDMpO1xyXG4gICAqIGRhdGFbMF0gPSAweEZGOyAgLy8gcmVkXHJcbiAgICogZGF0YVswXSA9IDB4MDA7IC8vIGdyZWVuXHJcbiAgICogZGF0YVswXSA9IDB4RkY7IC8vIGJsdWVcclxuICAgKiBCTEUud3JpdGUoZGV2aWNlX2lkLCAnY2NjMCcsICdjY2MxJywgZGF0YS5idWZmZXIpO1xyXG4gICAqXHJcbiAgICogLy8gc2VuZCBhIDMyIGJpdCBpbnRlZ2VyXHJcbiAgICogdmFyIGRhdGEgPSBuZXcgVWludDMyQXJyYXkoMSk7XHJcbiAgICogZGF0YVswXSA9IGNvdW50ZXJJbnB1dC52YWx1ZTtcclxuICAgKiBCTEUud3JpdGUoZGV2aWNlX2lkLCBTRVJWSUNFLCBDSEFSQUNURVJJU1RJQywgZGF0YS5idWZmZXIpO1xyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xyXG4gICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IHZhbHVlICBEYXRhIHRvIHdyaXRlIHRvIHRoZSBjaGFyYWN0ZXJpc3RpYywgYXMgYW4gQXJyYXlCdWZmZXIuXHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgUHJvbWlzZVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICB3cml0ZShkZXZpY2VJZDogc3RyaW5nLCBzZXJ2aWNlVVVJRDogc3RyaW5nLCBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZywgdmFsdWU6IEFycmF5QnVmZmVyKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdyaXRlIHRoZSB2YWx1ZSBvZiBhIGNoYXJhY3RlcmlzdGljIHdpdGhvdXQgd2FpdGluZyBmb3IgY29uZmlybWF0aW9uIGZyb20gdGhlIHBlcmlwaGVyYWwuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VydmljZVVVSUQgIFVVSUQgb2YgdGhlIEJMRSBzZXJ2aWNlXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNoYXJhY3RlcmlzdGljVVVJRCAgVVVJRCBvZiB0aGUgQkxFIGNoYXJhY3RlcmlzdGljXHJcbiAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gdmFsdWUgIERhdGEgdG8gd3JpdGUgdG8gdGhlIGNoYXJhY3RlcmlzdGljLCBhcyBhbiBBcnJheUJ1ZmZlci5cclxuICAgKiBAcmV0dXJuIHtQcm9taXNlPGFueT59IFJldHVybnMgYSBQcm9taXNlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHdyaXRlV2l0aG91dFJlc3BvbnNlKFxyXG4gICAgZGV2aWNlSWQ6IHN0cmluZyxcclxuICAgIHNlcnZpY2VVVUlEOiBzdHJpbmcsXHJcbiAgICBjaGFyYWN0ZXJpc3RpY1VVSUQ6IHN0cmluZyxcclxuICAgIHZhbHVlOiBBcnJheUJ1ZmZlclxyXG4gICk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlciB0byBiZSBub3RpZmllZCB3aGVuIHRoZSB2YWx1ZSBvZiBhIGNoYXJhY3RlcmlzdGljIGNoYW5nZXMuXHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKiBgYGBcclxuICAgKiBCTEUuc3RhcnROb3RpZmljYXRpb24oZGV2aWNlX2lkLCAnRkYxMCcsICdGRjExJykuc3Vic2NyaWJlKGJ1ZmZlciA9PiB7XHJcbiAgICogICBjb25zb2xlLmxvZyhTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZmZlcikpO1xyXG4gICAqIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xyXG4gICAqIEByZXR1cm4ge09ic2VydmFibGU8YW55Pn0gUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgbm90aWZpZXMgb2YgY2hhcmFjdGVyaXN0aWMgY2hhbmdlcy5cclxuICAgKiBUaGUgb2JzZXJ2ZXIgZW1pdCBhbiBhcnJheSB3aXRoIGRhdGEgYXQgaW5kZXggMCBhbmQgc2VxdWVuY2Ugb3JkZXIgYXQgaW5kZXggMS5cclxuICAgKiBUaGUgc2VxdWVuY2Ugb3JkZXIgaXMgYWx3YXlzIHVuZGVmaW5lZCBvbiBpT1MuIE9uIGFuZHJvaWQgaXQgbGVhdmUgdGhlIGNsaWVudCB0byBjaGVjayB0aGUgc2VxdWVuY2Ugb3JkZXIgYW5kIHJlb3JkZXIgaWYgbmVlZGVkXHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgb2JzZXJ2YWJsZTogdHJ1ZSxcclxuICAgIGRlc3RydWN0OiB0cnVlLFxyXG4gICAgY2xlYXJGdW5jdGlvbjogJ3N0b3BOb3RpZmljYXRpb24nLFxyXG4gICAgY2xlYXJXaXRoQXJnczogdHJ1ZSxcclxuICB9KVxyXG4gIHN0YXJ0Tm90aWZpY2F0aW9uKGRldmljZUlkOiBzdHJpbmcsIHNlcnZpY2VVVUlEOiBzdHJpbmcsIGNoYXJhY3RlcmlzdGljVVVJRDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0b3AgYmVpbmcgbm90aWZpZWQgd2hlbiB0aGUgdmFsdWUgb2YgYSBjaGFyYWN0ZXJpc3RpYyBjaGFuZ2VzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGRldmljZUlkICBVVUlEIG9yIE1BQyBhZGRyZXNzIG9mIHRoZSBwZXJpcGhlcmFsXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlcnZpY2VVVUlEICBVVUlEIG9mIHRoZSBCTEUgc2VydmljZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaGFyYWN0ZXJpc3RpY1VVSUQgIFVVSUQgb2YgdGhlIEJMRSBjaGFyYWN0ZXJpc3RpY1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHN0b3BOb3RpZmljYXRpb24oZGV2aWNlSWQ6IHN0cmluZywgc2VydmljZVVVSUQ6IHN0cmluZywgY2hhcmFjdGVyaXN0aWNVVUlEOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVwb3J0IHRoZSBjb25uZWN0aW9uIHN0YXR1cy5cclxuICAgKlxyXG4gICAqIEB1c2FnZVxyXG4gICAqIGBgYFxyXG4gICAqIEJMRS5pc0Nvbm5lY3RlZCgnRkZDQTBCMDktQ0IxRC00REMwLUExRUYtMzFBRkQzRURGQjUzJykudGhlbihcclxuICAgKiAgICgpID0+IHsgY29uc29sZS5sb2coJ2Nvbm5lY3RlZCcpOyB9LFxyXG4gICAqICAgKCkgPT4geyBjb25zb2xlLmxvZygnbm90IGNvbm5lY3RlZCcpOyB9XHJcbiAgICogKTtcclxuICAgKiBgYGBcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBpc0Nvbm5lY3RlZChkZXZpY2VJZDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlcG9ydCBpZiBibHVldG9vdGggaXMgZW5hYmxlZC5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fSBSZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIGlmIEJsdWV0b290aCBpcyBlbmFibGVkLCBhbmQgcmVqZWN0cyBpZiBkaXNhYmxlZC5cclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgaXNFbmFibGVkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVnaXN0ZXIgdG8gYmUgbm90aWZpZWQgd2hlbiBCbHVldG9vdGggc3RhdGUgY2hhbmdlcyBvbiB0aGUgZGV2aWNlLlxyXG4gICAqXHJcbiAgICogQHVzYWdlXHJcbiAgICogYGBgXHJcbiAgICogQkxFLnN0YXJ0U3RhdGVOb3RpZmljYXRpb25zKCkuc3Vic2NyaWJlKHN0YXRlID0+IHtcclxuICAgKiAgIGNvbnNvbGUubG9nKFwiQmx1ZXRvb3RoIGlzIFwiICsgc3RhdGUpO1xyXG4gICAqIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxhbnk+fSBSZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCBub3RpZmllcyB3aGVuIHRoZSBCbHVldG9vdGggaXMgZW5hYmxlZCBvciBkaXNhYmxlZCBvbiB0aGUgZGV2aWNlLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIG9ic2VydmFibGU6IHRydWUsXHJcbiAgICBjbGVhckZ1bmN0aW9uOiAnc3RvcFN0YXRlTm90aWZpY2F0aW9ucycsXHJcbiAgICBjbGVhcldpdGhBcmdzOiBmYWxzZSxcclxuICB9KVxyXG4gIHN0YXJ0U3RhdGVOb3RpZmljYXRpb25zKCk6IE9ic2VydmFibGU8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTdG9wIHN0YXRlIG5vdGlmaWNhdGlvbnMuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBzdG9wU3RhdGVOb3RpZmljYXRpb25zKCk6IFByb21pc2U8YW55PiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBPcGVuIFN5c3RlbSBCbHVldG9vdGggc2V0dGluZ3MgKEFuZHJvaWQgb25seSkuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKClcclxuICBzaG93Qmx1ZXRvb3RoU2V0dGluZ3MoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEVuYWJsZSBCbHVldG9vdGggb24gdGhlIGRldmljZSAoQW5kcm9pZCBvbmx5KS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGVuYWJsZSgpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVhZCB0aGUgUlNTSSB2YWx1ZSBvbiB0aGUgZGV2aWNlIGNvbm5lY3Rpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGV2aWNlSWQgIFVVSUQgb3IgTUFDIGFkZHJlc3Mgb2YgdGhlIHBlcmlwaGVyYWxcclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59XHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHJlYWRSU1NJKGRldmljZUlkOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0cmlldmVzIGEgbGlzdCBvZiB0aGUgcGVyaXBoZXJhbHMgKGNvbnRhaW5pbmcgYW55IG9mIHRoZSBzcGVjaWZpZWQgc2VydmljZXMpXHJcbiAgICogY3VycmVudGx5IGNvbm5lY3RlZCB0byB0aGUgc3lzdGVtLiBUaGUgcGVyaXBoZXJhbCBsaXN0IGlzIHNlbnQgdG8gdGhlIHN1Y2Nlc3MgY2FsbGJhY2suXHJcbiAgICogaU9TIG9ubHlcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nW119IHNlcnZpY2VzIExpc3Qgb2Ygc2VydmljZXMgdG8gZGlzY292ZXJcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGEgbGlzdCBvZiBwZXJpcGhlcmFsIG9iamVjdHNcclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgY29ubmVjdGVkUGVyaXBoZXJhbHNXaXRoU2VydmljZXMoc2VydmljZXM6IHN0cmluZ1tdKTogUHJvbWlzZTxhbnlbXT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRmluZCB0aGUgY29ubmVjdGVkIHBlcmlwaGVyYWxzIG9mZmVyaW5nIHRoZSBsaXN0ZWQgc2VydmljZSBVVUlEcy5cclxuICAgKiBpT1Mgb25seVxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gdXVpZHMgTGlzdCBvZiBwZXJpcGhlcmFsIFVVSURzXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIHByb21pc2Ugd2l0aCBhIGxpc3Qgb2YgcGVyaXBoZXJhbCBvYmplY3RzXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHBlcmlwaGVyYWxzV2l0aElkZW50aWZpZXJzKHV1aWRzOiBzdHJpbmdbXSk6IFByb21pc2U8YW55W10+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZpbmQgdGhlIGJvbmRlZCBkZXZpY2VzXHJcbiAgICogQW5kcm9pZCBvbmx5XHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGEgbGlzdCBvZiBwZXJpcGhlcmFsIG9iamVjdHNcclxuICAgKi9cclxuICBAQ29yZG92YSgpXHJcbiAgYm9uZGVkRGV2aWNlcygpOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZXBvcnRzIGlmIGxvY2F0aW9uIHNlcnZpY2VzIGFyZSBlbmFibGVkLlxyXG4gICAqIEFuZHJvaWQgb25seVxyXG4gICAqXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGlzTG9jYXRpb25FbmFibGVkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxufVxyXG4iXX0=