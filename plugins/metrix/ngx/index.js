import { __decorate, __extends } from "tslib";
import { Injectable } from '@angular/core';
import { IonicNativePlugin, cordova } from '@ionic-native/core';
var MetrixConfig = /** @class */ (function () {
    function MetrixConfig(appId) {
        this.secretId = null;
        this.info1 = null;
        this.info2 = null;
        this.info3 = null;
        this.info4 = null;
        this.defaultTrackerToken = null;
        this.shouldLaunchDeeplink = false;
        this.firebaseAppId = null;
        this.firebaseProjectId = null;
        this.firebaseApiKey = null;
        this.isLocationListeningEnable = false;
        this.eventUploadThreshold = null;
        this.eventUploadMaxBatchSize = null;
        this.eventMaxCount = null;
        this.eventUploadPeriodMillis = null;
        this.sessionTimeoutMillis = null;
        this.store = null;
        this.userIdListener = null;
        this.sessionIdListener = null;
        this.attributionChangeListener = null;
        this.deeplinkResponseListener = null;
        this.appId = appId;
    }
    MetrixConfig.prototype.setDefaultTracker = function (defaultTrackerToken) {
        this.defaultTrackerToken = defaultTrackerToken;
    };
    MetrixConfig.prototype.setFirebaseId = function (firebaseAppId, firebaseProjectId, firebaseApiKey) {
        this.firebaseAppId = firebaseAppId;
        this.firebaseProjectId = firebaseProjectId;
        this.firebaseApiKey = firebaseApiKey;
    };
    MetrixConfig.prototype.setAppSecret = function (secretId, info1, info2, info3, info4) {
        this.secretId = secretId;
        this.info1 = info1;
        this.info2 = info2;
        this.info3 = info3;
        this.info4 = info4;
    };
    MetrixConfig.prototype.setShouldLaunchDeeplink = function (shouldLaunchDeeplink) {
        this.shouldLaunchDeeplink = shouldLaunchDeeplink;
    };
    MetrixConfig.prototype.setOnAttributionChangeListener = function (attributionChangeListener) {
        this.attributionChangeListener = attributionChangeListener;
    };
    MetrixConfig.prototype.setOnDeeplinkResponseListener = function (deeplinkResponseListener) {
        this.deeplinkResponseListener = deeplinkResponseListener;
    };
    MetrixConfig.prototype.setOnReceiveUserIdListener = function (userIdListener) {
        this.userIdListener = userIdListener;
    };
    MetrixConfig.prototype.setOnSessionIdListener = function (sessionIdListener) {
        this.sessionIdListener = sessionIdListener;
    };
    MetrixConfig.prototype.setLocationListening = function (isLocationListeningEnable) {
        this.isLocationListeningEnable = isLocationListeningEnable;
    };
    MetrixConfig.prototype.setEventUploadThreshold = function (threshold) {
        this.eventUploadThreshold = threshold;
    };
    MetrixConfig.prototype.setEventUploadMaxBatchSize = function (size) {
        this.eventUploadMaxBatchSize = size;
    };
    MetrixConfig.prototype.setEventMaxCount = function (count) {
        this.eventMaxCount = count;
    };
    MetrixConfig.prototype.setEventUploadPeriodMillis = function (period) {
        this.eventUploadPeriodMillis = period;
    };
    MetrixConfig.prototype.setSessionTimeoutMillis = function (timeout) {
        this.sessionTimeoutMillis = timeout;
    };
    MetrixConfig.prototype.setStore = function (store) {
        this.store = store;
    };
    MetrixConfig.prototype.getAttributionChangeListener = function () {
        return this.attributionChangeListener;
    };
    MetrixConfig.prototype.getDeeplinkResponseListener = function () {
        return this.deeplinkResponseListener;
    };
    MetrixConfig.prototype.getOnReceiveUserIdListener = function () {
        return this.userIdListener;
    };
    MetrixConfig.prototype.getOnSessionIdListener = function () {
        return this.sessionIdListener;
    };
    MetrixConfig.prototype.hasAttributionChangeListener = function () {
        return this.attributionChangeListener !== null;
    };
    MetrixConfig.prototype.hasDeeplinkResponseListener = function () {
        return this.deeplinkResponseListener !== null;
    };
    MetrixConfig.prototype.hasUserIdListener = function () {
        return this.userIdListener !== null;
    };
    MetrixConfig.prototype.hasSessionIdListener = function () {
        return this.sessionIdListener !== null;
    };
    return MetrixConfig;
}());
export { MetrixConfig };
export var MetrixAttributionStatus;
(function (MetrixAttributionStatus) {
    MetrixAttributionStatus["Attributed"] = "ATTRIBUTED";
    MetrixAttributionStatus["NotAttributedYet"] = "NOT_ATTRIBUTED_YET";
    MetrixAttributionStatus["AttributionNotNeeded"] = "ATTRIBUTION_NOT_NEEDED";
    MetrixAttributionStatus["Unknown"] = "UNKNOWN";
})(MetrixAttributionStatus || (MetrixAttributionStatus = {}));
var Metrix = /** @class */ (function (_super) {
    __extends(Metrix, _super);
    function Metrix() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Metrix.prototype.create = function (config) { return cordova(this, "create", { "sync": true }, arguments); };
    Metrix.prototype.getSessionNum = function () { return cordova(this, "getSessionNum", {}, arguments); };
    Metrix.prototype.newEvent = function (slug, attributes) { return cordova(this, "newEvent", { "sync": true }, arguments); };
    Metrix.prototype.addUserAttributes = function (attributes) { return cordova(this, "addUserAttributes", { "sync": true }, arguments); };
    Metrix.prototype.newRevenue = function (slug, amount, currency, orderId) { return cordova(this, "newRevenue", { "sync": true }, arguments); };
    Metrix.prototype.appWillOpenUrl = function (url) { return cordova(this, "appWillOpenUrl", { "sync": true }, arguments); };
    Metrix.pluginName = "Metrix";
    Metrix.plugin = "ir.metrix.sdk";
    Metrix.pluginRef = "Metrix";
    Metrix.repo = "https://github.com/metrixorg/MetrixSDK-CordovaPlugin";
    Metrix.platforms = ["Android"];
    Metrix = __decorate([
        Injectable()
    ], Metrix);
    return Metrix;
}(IonicNativePlugin));
export { Metrix };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL21ldHJpeC9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyw4QkFBc0MsTUFBTSxvQkFBb0IsQ0FBQzs7SUEyQnRFLHNCQUFZLEtBQWE7UUF2QmpCLGFBQVEsR0FBVyxJQUFJLENBQUM7UUFDeEIsVUFBSyxHQUFXLElBQUksQ0FBQztRQUNyQixVQUFLLEdBQVcsSUFBSSxDQUFDO1FBQ3JCLFVBQUssR0FBVyxJQUFJLENBQUM7UUFDckIsVUFBSyxHQUFXLElBQUksQ0FBQztRQUNyQix3QkFBbUIsR0FBVyxJQUFJLENBQUM7UUFDbkMseUJBQW9CLEdBQUcsS0FBSyxDQUFDO1FBQzdCLGtCQUFhLEdBQVcsSUFBSSxDQUFDO1FBQzdCLHNCQUFpQixHQUFXLElBQUksQ0FBQztRQUNqQyxtQkFBYyxHQUFXLElBQUksQ0FBQztRQUM5Qiw4QkFBeUIsR0FBRyxLQUFLLENBQUM7UUFDbEMseUJBQW9CLEdBQVcsSUFBSSxDQUFDO1FBQ3BDLDRCQUF1QixHQUFXLElBQUksQ0FBQztRQUN2QyxrQkFBYSxHQUFXLElBQUksQ0FBQztRQUM3Qiw0QkFBdUIsR0FBVyxJQUFJLENBQUM7UUFDdkMseUJBQW9CLEdBQVcsSUFBSSxDQUFDO1FBQ3BDLFVBQUssR0FBVyxJQUFJLENBQUM7UUFFckIsbUJBQWMsR0FBNkIsSUFBSSxDQUFDO1FBQ2hELHNCQUFpQixHQUFnQyxJQUFJLENBQUM7UUFDdEQsOEJBQXlCLEdBQTZDLElBQUksQ0FBQztRQUMzRSw2QkFBd0IsR0FBMEIsSUFBSSxDQUFDO1FBRzdELElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ3JCLENBQUM7SUFFRCx3Q0FBaUIsR0FBakIsVUFBa0IsbUJBQTJCO1FBQzND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QUNoRCxDQUFDO0lBRU8sd0NBQWlCLEdBQXpCO1FBQ0UsT0FBTyxJQUFJLENBQUMsY0FBYyxLQUFLLElBQUksQ0FBQztJQUN0QyxDQUFDO0lBRU8sMkNBQW9CLEdBQTVCO1FBQ0UsT0FBTyxJQUFJLENBQUMsaUJBQWlCLEtBQUssSUFBSSxDQUFDO0lBQ3pDLENBQUM7dUJBaElIOzs7QUEySUEsTUFBTSxDQUFOLElBQVksdUJBS1g7QUFMRCxXQUFZLHVCQUF1QjtJQUNqQyxvREFBeUIsQ0FBQTtJQUN6QixrRUFBdUMsQ0FBQTtJQUN2QywwRUFBK0MsQ0FBQTtJQUMvQyw4Q0FBbUIsQ0FBQTtBQUNyQixDQUFDLEVBTFcsdUJBQXVCLEtBQXZCLHVCQUF1QixRQUtsQzs7SUFxQzJCLDBCQUFpQjs7OztJQU0zQyx1QkFBTSxhQUFDLE1BQW9CO0lBTzNCLDhCQUFhO0lBVWIseUJBQVEsYUFBQyxJQUFZLEVBQUUsVUFBeUM7SUFPaEUsa0NBQWlCLGFBQUMsVUFBd0M7SUFVMUQsMkJBQVUsYUFBQyxJQUFZLEVBQUUsTUFBYyxFQUFFLFFBQWlCLEVBQUUsT0FBZ0I7SUFPNUUsK0JBQWMsYUFBQyxHQUFXOzs7Ozs7SUEvQ2YsTUFBTTtRQURsQixVQUFVLEVBQUU7T0FDQSxNQUFNO2lCQXJMbkI7RUFxTDRCLGlCQUFpQjtTQUFoQyxNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBDb3Jkb3ZhLCBJb25pY05hdGl2ZVBsdWdpbiwgUGx1Z2luIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9jb3JlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZXRyaXhDb25maWcge1xyXG4gIHByaXZhdGUgYXBwSWQ6IHN0cmluZztcclxuICBwcml2YXRlIHNlY3JldElkOiBudW1iZXIgPSBudWxsO1xyXG4gIHByaXZhdGUgaW5mbzE6IG51bWJlciA9IG51bGw7XHJcbiAgcHJpdmF0ZSBpbmZvMjogbnVtYmVyID0gbnVsbDtcclxuICBwcml2YXRlIGluZm8zOiBudW1iZXIgPSBudWxsO1xyXG4gIHByaXZhdGUgaW5mbzQ6IG51bWJlciA9IG51bGw7XHJcbiAgcHJpdmF0ZSBkZWZhdWx0VHJhY2tlclRva2VuOiBzdHJpbmcgPSBudWxsO1xyXG4gIHByaXZhdGUgc2hvdWxkTGF1bmNoRGVlcGxpbmsgPSBmYWxzZTtcclxuICBwcml2YXRlIGZpcmViYXNlQXBwSWQ6IHN0cmluZyA9IG51bGw7XHJcbiAgcHJpdmF0ZSBmaXJlYmFzZVByb2plY3RJZDogc3RyaW5nID0gbnVsbDtcclxuICBwcml2YXRlIGZpcmViYXNlQXBpS2V5OiBzdHJpbmcgPSBudWxsO1xyXG4gIHByaXZhdGUgaXNMb2NhdGlvbkxpc3RlbmluZ0VuYWJsZSA9IGZhbHNlO1xyXG4gIHByaXZhdGUgZXZlbnRVcGxvYWRUaHJlc2hvbGQ6IG51bWJlciA9IG51bGw7XHJcbiAgcHJpdmF0ZSBldmVudFVwbG9hZE1heEJhdGNoU2l6ZTogbnVtYmVyID0gbnVsbDtcclxuICBwcml2YXRlIGV2ZW50TWF4Q291bnQ6IG51bWJlciA9IG51bGw7XHJcbiAgcHJpdmF0ZSBldmVudFVwbG9hZFBlcmlvZE1pbGxpczogbnVtYmVyID0gbnVsbDtcclxuICBwcml2YXRlIHNlc3Npb25UaW1lb3V0TWlsbGlzOiBudW1iZXIgPSBudWxsO1xyXG4gIHByaXZhdGUgc3RvcmU6IHN0cmluZyA9IG51bGw7XHJcblxyXG4gIHByaXZhdGUgdXNlcklkTGlzdGVuZXI6ICh1c2VySWQ6IHN0cmluZykgPT4gdm9pZCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBzZXNzaW9uSWRMaXN0ZW5lcjogKHNlc3Npb25JZDogc3RyaW5nKSA9PiB2b2lkID0gbnVsbDtcclxuICBwcml2YXRlIGF0dHJpYnV0aW9uQ2hhbmdlTGlzdGVuZXI6IChhdHRyaWJ1dGlvbjogTWV0cml4QXR0cmlidXRpb24pID0+IHZvaWQgPSBudWxsO1xyXG4gIHByaXZhdGUgZGVlcGxpbmtSZXNwb25zZUxpc3RlbmVyOiAodXJpOiBzdHJpbmcpID0+IHZvaWQgPSBudWxsO1xyXG5cclxuICBjb25zdHJ1Y3RvcihhcHBJZDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmFwcElkID0gYXBwSWQ7XHJcbiAgfVxyXG5cclxuICBzZXREZWZhdWx0VHJhY2tlcihkZWZhdWx0VHJhY2tlclRva2VuOiBzdHJpbmcpIHtcclxuICAgIHRoaXMuZGVmYXVsdFRyYWNrZXJUb2tlbiA9IGRlZmF1bHRUcmFja2VyVG9rZW47XHJcbiAgfVxyXG5cclxuICBzZXRGaXJlYmFzZUlkKGZpcmViYXNlQXBwSWQ6IHN0cmluZywgZmlyZWJhc2VQcm9qZWN0SWQ6IHN0cmluZywgZmlyZWJhc2VBcGlLZXk6IHN0cmluZykge1xyXG4gICAgdGhpcy5maXJlYmFzZUFwcElkID0gZmlyZWJhc2VBcHBJZDtcclxuICAgIHRoaXMuZmlyZWJhc2VQcm9qZWN0SWQgPSBmaXJlYmFzZVByb2plY3RJZDtcclxuICAgIHRoaXMuZmlyZWJhc2VBcGlLZXkgPSBmaXJlYmFzZUFwaUtleTtcclxuICB9XHJcblxyXG4gIHNldEFwcFNlY3JldChzZWNyZXRJZDogbnVtYmVyLCBpbmZvMTogbnVtYmVyLCBpbmZvMjogbnVtYmVyLCBpbmZvMzogbnVtYmVyLCBpbmZvNDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnNlY3JldElkID0gc2VjcmV0SWQ7XHJcbiAgICB0aGlzLmluZm8xID0gaW5mbzE7XHJcbiAgICB0aGlzLmluZm8yID0gaW5mbzI7XHJcbiAgICB0aGlzLmluZm8zID0gaW5mbzM7XHJcbiAgICB0aGlzLmluZm80ID0gaW5mbzQ7XHJcbiAgfVxyXG5cclxuICBzZXRTaG91bGRMYXVuY2hEZWVwbGluayhzaG91bGRMYXVuY2hEZWVwbGluazogYm9vbGVhbikge1xyXG4gICAgdGhpcy5zaG91bGRMYXVuY2hEZWVwbGluayA9IHNob3VsZExhdW5jaERlZXBsaW5rO1xyXG4gIH1cclxuXHJcbiAgc2V0T25BdHRyaWJ1dGlvbkNoYW5nZUxpc3RlbmVyKGF0dHJpYnV0aW9uQ2hhbmdlTGlzdGVuZXI6IChhdHRyaWJ1dGlvbjogTWV0cml4QXR0cmlidXRpb24pID0+IHZvaWQpIHtcclxuICAgIHRoaXMuYXR0cmlidXRpb25DaGFuZ2VMaXN0ZW5lciA9IGF0dHJpYnV0aW9uQ2hhbmdlTGlzdGVuZXI7XHJcbiAgfVxyXG5cclxuICBzZXRPbkRlZXBsaW5rUmVzcG9uc2VMaXN0ZW5lcihkZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXI6ICh1cmk6IHN0cmluZykgPT4gdm9pZCkge1xyXG4gICAgdGhpcy5kZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXIgPSBkZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXI7XHJcbiAgfVxyXG5cclxuICBzZXRPblJlY2VpdmVVc2VySWRMaXN0ZW5lcih1c2VySWRMaXN0ZW5lcjogKHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkKSB7XHJcbiAgICB0aGlzLnVzZXJJZExpc3RlbmVyID0gdXNlcklkTGlzdGVuZXI7XHJcbiAgfVxyXG5cclxuICBzZXRPblNlc3Npb25JZExpc3RlbmVyKHNlc3Npb25JZExpc3RlbmVyOiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHZvaWQpIHtcclxuICAgIHRoaXMuc2Vzc2lvbklkTGlzdGVuZXIgPSBzZXNzaW9uSWRMaXN0ZW5lcjtcclxuICB9XHJcblxyXG4gIHNldExvY2F0aW9uTGlzdGVuaW5nKGlzTG9jYXRpb25MaXN0ZW5pbmdFbmFibGU6IGJvb2xlYW4pIHtcclxuICAgIHRoaXMuaXNMb2NhdGlvbkxpc3RlbmluZ0VuYWJsZSA9IGlzTG9jYXRpb25MaXN0ZW5pbmdFbmFibGU7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudFVwbG9hZFRocmVzaG9sZCh0aHJlc2hvbGQ6IG51bWJlcikge1xyXG4gICAgdGhpcy5ldmVudFVwbG9hZFRocmVzaG9sZCA9IHRocmVzaG9sZDtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50VXBsb2FkTWF4QmF0Y2hTaXplKHNpemU6IG51bWJlcikge1xyXG4gICAgdGhpcy5ldmVudFVwbG9hZE1heEJhdGNoU2l6ZSA9IHNpemU7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudE1heENvdW50KGNvdW50OiBudW1iZXIpIHtcclxuICAgIHRoaXMuZXZlbnRNYXhDb3VudCA9IGNvdW50O1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRVcGxvYWRQZXJpb2RNaWxsaXMocGVyaW9kOiBudW1iZXIpIHtcclxuICAgIHRoaXMuZXZlbnRVcGxvYWRQZXJpb2RNaWxsaXMgPSBwZXJpb2Q7XHJcbiAgfVxyXG5cclxuICBzZXRTZXNzaW9uVGltZW91dE1pbGxpcyh0aW1lb3V0OiBudW1iZXIpIHtcclxuICAgIHRoaXMuc2Vzc2lvblRpbWVvdXRNaWxsaXMgPSB0aW1lb3V0O1xyXG4gIH1cclxuXHJcbiAgc2V0U3RvcmUoc3RvcmU6IHN0cmluZykge1xyXG4gICAgdGhpcy5zdG9yZSA9IHN0b3JlO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRBdHRyaWJ1dGlvbkNoYW5nZUxpc3RlbmVyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRpb25DaGFuZ2VMaXN0ZW5lcjtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2V0RGVlcGxpbmtSZXNwb25zZUxpc3RlbmVyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuZGVlcGxpbmtSZXNwb25zZUxpc3RlbmVyO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRPblJlY2VpdmVVc2VySWRMaXN0ZW5lcigpIHtcclxuICAgIHJldHVybiB0aGlzLnVzZXJJZExpc3RlbmVyO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRPblNlc3Npb25JZExpc3RlbmVyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbklkTGlzdGVuZXI7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhc0F0dHJpYnV0aW9uQ2hhbmdlTGlzdGVuZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGlvbkNoYW5nZUxpc3RlbmVyICE9PSBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYXNEZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXIoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5kZWVwbGlua1Jlc3BvbnNlTGlzdGVuZXIgIT09IG51bGw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhc1VzZXJJZExpc3RlbmVyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMudXNlcklkTGlzdGVuZXIgIT09IG51bGw7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGhhc1Nlc3Npb25JZExpc3RlbmVyKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbklkTGlzdGVuZXIgIT09IG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIE1ldHJpeEF0dHJpYnV0aW9uIHtcclxuICBhY3F1aXNpdGlvbkFkOiBzdHJpbmc7XHJcbiAgYWNxdWlzaXRpb25BZFNldDogc3RyaW5nO1xyXG4gIGFjcXVpc2l0aW9uQ2FtcGFpZ246IHN0cmluZztcclxuICBhY3F1aXNpdGlvblNvdXJjZTogc3RyaW5nO1xyXG4gIGF0dHJpYnV0aW9uU3RhdHVzOiBNZXRyaXhBdHRyaWJ1dGlvblN0YXR1cztcclxufVxyXG5cclxuZXhwb3J0IGVudW0gTWV0cml4QXR0cmlidXRpb25TdGF0dXMge1xyXG4gIEF0dHJpYnV0ZWQgPSAnQVRUUklCVVRFRCcsXHJcbiAgTm90QXR0cmlidXRlZFlldCA9ICdOT1RfQVRUUklCVVRFRF9ZRVQnLFxyXG4gIEF0dHJpYnV0aW9uTm90TmVlZGVkID0gJ0FUVFJJQlVUSU9OX05PVF9ORUVERUQnLFxyXG4gIFVua25vd24gPSAnVU5LTk9XTicsXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBNZXRyaXhcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoaXMgaXMgdGhlIElvbmljIENvcmRvdmEgU0RLIG9mIE1ldHJpeOKEoi4gWW91IGNhbiByZWFkIG1vcmUgYWJvdXQgTWV0cml44oSiIGF0IG1ldHJpeC5pci5cclxuICpcclxuICogUmVxdWlyZXMgQ29yZG92YSBwbHVnaW46IGBpci5tZXRyaXguc2RrYC4gRm9yIG1vcmUgaW5mbywgcGxlYXNlIHNlZSB0aGUgW01ldHJpeCBDb3Jkb3ZhIFNES10oaHR0cHM6Ly9naXRodWIuY29tL21ldHJpeG9yZy9NZXRyaXhTREstQ29yZG92YVBsdWdpbilcclxuICpcclxuICogQHVzYWdlXHJcbiAqIGBgYHR5cGVzY3JpcHRcclxuICogIGltcG9ydCB7IE1ldHJpeCwgTWV0cml4Q29uZmlnIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9tZXRyaXgnO1xyXG4gKlxyXG4gKiAgY29uc3RydWN0b3IocHJpdmF0ZSBtZXRyaXg6IE1ldHJpeCkgeyB9XHJcbiAqXHJcbiAqICAuLi5cclxuICpcclxuICogIGNvbnN0IGNvbmZpZyA9IG5ldyBNZXRyaXhDb25maWcoJ0FQUC1JRC1IRVJFJyk7XHJcbiAqICAvLyBTZXQgb3RoZXIgY29uZmlnIHByb3BlcnRpZXMuXHJcbiAqICBtZXRyaXguY3JlYXRlKGNvbmZpZyk7XHJcbiAqXHJcbiAqIGBgYFxyXG4gKiBAaW50ZXJmYWNlc1xyXG4gKiBNZXRyaXhBdHRyaWJ1dGlvblxyXG4gKiBAY2xhc3Nlc1xyXG4gKiBNZXRyaXhDb25maWdcclxuICogQGVudW1zXHJcbiAqIE1ldHJpeEF0dHJpYnV0aW9uU3RhdHVzXHJcbiAqL1xyXG5AUGx1Z2luKHtcclxuICBwbHVnaW5OYW1lOiAnTWV0cml4JyxcclxuICBwbHVnaW46ICdpci5tZXRyaXguc2RrJyxcclxuICBwbHVnaW5SZWY6ICdNZXRyaXgnLFxyXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20vbWV0cml4b3JnL01ldHJpeFNESy1Db3Jkb3ZhUGx1Z2luJyxcclxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCddLFxyXG59KVxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBNZXRyaXggZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XHJcbiAgLyoqXHJcbiAgICogVGhpcyBtZXRob2QgaW5pdGlhbGl6ZXMgTWV0cml4IFNES1xyXG4gICAqIEBwYXJhbSB7TWV0cml4Q29uZmlnfSBjb25maWcgTWV0cml4Q29uZmlnIG9iamVjdCB1c2VkIGFzIHN0YXJ0aW5nIG9wdGlvbnNcclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICBjcmVhdGUoY29uZmlnOiBNZXRyaXhDb25maWcpOiB2b2lkIHt9XHJcblxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHVzZWQgdG8gZ2V0IFNlc3Npb24gTnVtYmVyXHJcbiAgICogQHJldHVybiB7UHJvbWlzZTxudW1iZXI+fSBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIHNlc3Npb24gbnVtYmVyIHZhbHVlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIGdldFNlc3Npb25OdW0oKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgbWV0aG9kIHRyYWNrcyBhbiBldmVudFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzbHVnIHRoZSBzbHVnIG9mIHRoZSBldmVudCB0byBiZSB0cmFja2VkXHJcbiAgICogQHBhcmFtIHtNYXA8U3RyaW5nLCBTdHJpbmc+IHwgb2JqZWN0fSBhdHRyaWJ1dGVzIG9wdGlvbmFsIGF0dHJpYnV0ZXMgb2YgdGhlIGV2ZW50IHRvIGJlIHRyYWNrZWRcclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICBuZXdFdmVudChzbHVnOiBzdHJpbmcsIGF0dHJpYnV0ZXM/OiBNYXA8U3RyaW5nLCBTdHJpbmc+IHwgb2JqZWN0KTogdm9pZCB7fVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIG1ldGhvZCBhZGRzIHRoZSBwcm92aWRlZCBhdHRyaWJ1dGVzIHRvIGFsbCBtZXRyaXggZXZlbnRzXHJcbiAgICogQHBhcmFtIHtNYXA8U3RyaW5nLCBTdHJpbmc+IHwgb2JqZWN0fSBhdHRyaWJ1dGVzIHRoZSBhdHRyaWJ1dGVzIHRvIGJlIGFkZGVkIHRvIGFsbCBmdXR1cmUgZXZlbnRzXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXHJcbiAgYWRkVXNlckF0dHJpYnV0ZXMoYXR0cmlidXRlczogTWFwPFN0cmluZywgU3RyaW5nPiB8IG9iamVjdCk6IHZvaWQge31cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBtZXRob2QgdHJhY2tzIGEgcmV2ZW51ZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzbHVnIHRoZSBzbHVnIG9mIHRoZSBldmVudCB0byBiZSB0cmFja2VkXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCB0aGUgYW1vdW50IG9mIG1vbmV5IGdhaW5lZCBieSB0aGUgcmV2ZW51ZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW5jeSAoT1BUSU9OQUwpIGN1cnJlbmN5IG9mIHRoZSBhbW91bnRcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gb3JkZXJJZCAoT1BUSU9OQUwpIGlkIG9mIHRoZSByZXZlbnVlXHJcbiAgICovXHJcbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXHJcbiAgbmV3UmV2ZW51ZShzbHVnOiBzdHJpbmcsIGFtb3VudDogbnVtYmVyLCBjdXJyZW5jeT86IG51bWJlciwgb3JkZXJJZD86IHN0cmluZyk6IHZvaWQge31cclxuXHJcbiAgLyoqXHJcbiAgICogQnkgbWFraW5nIHRoaXMgY2FsbCwgdGhlIE1ldHJpeCBTREsgd2lsbCB0cnkgdG8gZmluZCBpZiB0aGVyZSBpcyBhbnkgbmV3IGF0dHJpYnV0aW9uIGluZm8gaW5zaWRlIG9mIHRoZSBkZWVwIGxpbmsgYW5kIGlmIGFueSwgaXQgd2lsbCBiZSBzZW50IHRvIHRoZSBNZXRyaXggYmFja2VuZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVSTCBvZiB0aGUgZGVlcGxpbmtcclxuICAgKi9cclxuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcclxuICBhcHBXaWxsT3BlblVybCh1cmw6IHN0cmluZyk6IHZvaWQge31cclxufVxyXG4iXX0=