import { __decorate, __extends } from "tslib";
import { Injectable } from '@angular/core';
import { IonicNativePlugin, checkAvailability, cordova } from '@ionic-native/core';
import { Observable } from 'rxjs';
/**
 * For description on error codes, please visit https://github.com/nordnet/cordova-hot-code-push/wiki/Error-codes
 */
export var ErrorCode;
(function (ErrorCode) {
    ErrorCode[ErrorCode["NOTHING_TO_INSTALL"] = 1] = "NOTHING_TO_INSTALL";
    ErrorCode[ErrorCode["NOTHING_TO_UPDATE"] = 2] = "NOTHING_TO_UPDATE";
    ErrorCode[ErrorCode["FAILED_TO_DOWNLOAD_APPLICATION_CONFIG"] = -1] = "FAILED_TO_DOWNLOAD_APPLICATION_CONFIG";
    ErrorCode[ErrorCode["APPLICATION_BUILD_VERSION_TOO_LOW"] = -2] = "APPLICATION_BUILD_VERSION_TOO_LOW";
    ErrorCode[ErrorCode["FAILED_TO_DOWNLOAD_CONTENT_MANIFEST"] = -3] = "FAILED_TO_DOWNLOAD_CONTENT_MANIFEST";
    ErrorCode[ErrorCode["FAILED_TO_DOWNLOAD_UPDATE_FILES"] = -4] = "FAILED_TO_DOWNLOAD_UPDATE_FILES";
    ErrorCode[ErrorCode["FAILED_TO_MOVE_LOADED_FILES_TO_INSTALLATION_FOLDER"] = -5] = "FAILED_TO_MOVE_LOADED_FILES_TO_INSTALLATION_FOLDER";
    ErrorCode[ErrorCode["UPDATE_IS_INVALID"] = -6] = "UPDATE_IS_INVALID";
    ErrorCode[ErrorCode["FAILED_TO_COPY_FILES_FROM_PREVIOUS_RELEASE"] = -7] = "FAILED_TO_COPY_FILES_FROM_PREVIOUS_RELEASE";
    ErrorCode[ErrorCode["FAILED_TO_COPY_NEW_CONTENT_FILES"] = -8] = "FAILED_TO_COPY_NEW_CONTENT_FILES";
    ErrorCode[ErrorCode["LOCAL_VERSION_OF_APPLICATION_CONFIG_NOT_FOUND"] = -9] = "LOCAL_VERSION_OF_APPLICATION_CONFIG_NOT_FOUND";
    ErrorCode[ErrorCode["LOCAL_VERSION_OF_MANIFEST_NOT_FOUND"] = -10] = "LOCAL_VERSION_OF_MANIFEST_NOT_FOUND";
    ErrorCode[ErrorCode["LOADED_VERSION_OF_APPLICATION_CONFIG_NOT_FOUND"] = -11] = "LOADED_VERSION_OF_APPLICATION_CONFIG_NOT_FOUND";
    ErrorCode[ErrorCode["LOADED_VERSION_OF_MANIFEST_NOT_FOUND"] = -12] = "LOADED_VERSION_OF_MANIFEST_NOT_FOUND";
    ErrorCode[ErrorCode["FAILED_TO_INSTALL_ASSETS_ON_EXTERNAL_STORAGE"] = -13] = "FAILED_TO_INSTALL_ASSETS_ON_EXTERNAL_STORAGE";
    ErrorCode[ErrorCode["CANT_INSTALL_WHILE_DOWNLOAD_IN_PROGRESS"] = -14] = "CANT_INSTALL_WHILE_DOWNLOAD_IN_PROGRESS";
    ErrorCode[ErrorCode["CANT_DOWNLOAD_UPDATE_WHILE_INSTALLATION_IN_PROGRESS"] = -15] = "CANT_DOWNLOAD_UPDATE_WHILE_INSTALLATION_IN_PROGRESS";
    ErrorCode[ErrorCode["INSTALLATION_ALREADY_IN_PROGRESS"] = -16] = "INSTALLATION_ALREADY_IN_PROGRESS";
    ErrorCode[ErrorCode["DOWNLOAD_ALREADY_IN_PROGRESS"] = -17] = "DOWNLOAD_ALREADY_IN_PROGRESS";
    ErrorCode[ErrorCode["ASSETS_FOLDER_IS_NOT_YET_INSTALLED"] = -18] = "ASSETS_FOLDER_IS_NOT_YET_INSTALLED";
    ErrorCode[ErrorCode["NEW_APPLICATION_CONFIG_IS_INVALID"] = -19] = "NEW_APPLICATION_CONFIG_IS_INVALID";
})(ErrorCode || (ErrorCode = {}));
var HotCodePush = /** @class */ (function (_super) {
    __extends(HotCodePush, _super);
    function HotCodePush() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HotCodePush.prototype.requestApplicationUpdate = function (message) { return cordova(this, "requestApplicationUpdate", {}, arguments); };
    HotCodePush.prototype.fetchUpdate = function (options) {
        var _this = this;
        return (function () {
            if (checkAvailability(_this) === true) {
                return new Promise(function (resolve, reject) {
                    HotCodePush.getPlugin().fetchUpdate(function (error, data) {
                        if (error) {
                            reject(error);
                        }
                        else {
                            resolve(data);
                        }
                    }, options);
                });
            }
        })();
    };
    HotCodePush.prototype.installUpdate = function () { return cordova(this, "installUpdate", { "callbackStyle": "node" }, arguments); };
    HotCodePush.prototype.isUpdateAvailableForInstallation = function () { return cordova(this, "isUpdateAvailableForInstallation", { "callbackStyle": "node" }, arguments); };
    HotCodePush.prototype.getVersionInfo = function () { return cordova(this, "getVersionInfo", { "callbackStyle": "node" }, arguments); };
    HotCodePush.prototype.onUpdateIsReadyToInstall = function () { return cordova(this, "onUpdateIsReadyToInstall", { "eventObservable": true, "event": "chcp_updateIsReadyToInstall" }, arguments); };
    HotCodePush.prototype.onUpdateLoadFailed = function () { return cordova(this, "onUpdateLoadFailed", { "eventObservable": true, "event": "chcp_updateLoadFailed" }, arguments); };
    HotCodePush.prototype.onNothingToUpdate = function () { return cordova(this, "onNothingToUpdate", { "eventObservable": true, "event": "chcp_nothingToUpdate" }, arguments); };
    HotCodePush.prototype.onBeforeInstall = function () { return cordova(this, "onBeforeInstall", { "eventObservable": true, "event": "chcp_beforeInstall" }, arguments); };
    HotCodePush.prototype.onUpdateInstalled = function () { return cordova(this, "onUpdateInstalled", { "eventObservable": true, "event": "chcp_updateInstalled" }, arguments); };
    HotCodePush.prototype.onUpdateInstallFailed = function () { return cordova(this, "onUpdateInstallFailed", { "eventObservable": true, "event": "chcp_updateInstallFailed" }, arguments); };
    HotCodePush.prototype.onNothingToInstall = function () { return cordova(this, "onNothingToInstall", { "eventObservable": true, "event": "chcp_nothingToInstall" }, arguments); };
    HotCodePush.prototype.onBeforeAssetsInstalledOnExternalStorage = function () { return cordova(this, "onBeforeAssetsInstalledOnExternalStorage", { "eventObservable": true, "event": "chcp_beforeAssetsInstalledOnExternalStorage" }, arguments); };
    HotCodePush.prototype.onAssetsInstalledOnExternalStorage = function () { return cordova(this, "onAssetsInstalledOnExternalStorage", { "eventObservable": true, "event": "chcp_assetsInstalledOnExternalStorage" }, arguments); };
    HotCodePush.prototype.onAssetsInstallationError = function () { return cordova(this, "onAssetsInstallationError", { "eventObservable": true, "event": "chcp_assetsInstallationError" }, arguments); };
    HotCodePush.pluginName = "HotCodePush";
    HotCodePush.plugin = "cordova-hot-code-push";
    HotCodePush.pluginRef = "chcp";
    HotCodePush.repo = "https://github.com/nordnet/cordova-hot-code-push";
    HotCodePush.platforms = ["Android", "iOS"];
    HotCodePush = __decorate([
        Injectable()
    ], HotCodePush);
    return HotCodePush;
}(IonicNativePlugin));
export { HotCodePush };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL2hvdC1jb2RlLXB1c2gvbmd4L2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzNDLE9BQU8saURBQW9ELE1BQU0sb0JBQW9CLENBQUM7QUFDdEYsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLE1BQU0sQ0FBQztBQWlEbEM7O0dBRUc7QUFDSCxNQUFNLENBQU4sSUFBWSxTQXNCWDtBQXRCRCxXQUFZLFNBQVM7SUFDbkIscUVBQXNCLENBQUE7SUFDdEIsbUVBQXFCLENBQUE7SUFDckIsNEdBQTBDLENBQUE7SUFDMUMsb0dBQXNDLENBQUE7SUFDdEMsd0dBQXdDLENBQUE7SUFDeEMsZ0dBQW9DLENBQUE7SUFDcEMsc0lBQXVELENBQUE7SUFDdkQsb0VBQXNCLENBQUE7SUFDdEIsc0hBQStDLENBQUE7SUFDL0Msa0dBQXFDLENBQUE7SUFDckMsNEhBQWtELENBQUE7SUFDbEQseUdBQXlDLENBQUE7SUFDekMsK0hBQW9ELENBQUE7SUFDcEQsMkdBQTBDLENBQUE7SUFDMUMsMkhBQWtELENBQUE7SUFDbEQsaUhBQTZDLENBQUE7SUFDN0MseUlBQXlELENBQUE7SUFDekQsbUdBQXNDLENBQUE7SUFDdEMsMkZBQWtDLENBQUE7SUFDbEMsdUdBQXdDLENBQUE7SUFDeEMscUdBQXVDLENBQUE7QUFDekMsQ0FBQyxFQXRCVyxTQUFTLEtBQVQsU0FBUyxRQXNCcEI7O0lBd0NnQywrQkFBaUI7Ozs7SUFPaEQsOENBQXdCLGFBQUMsT0FBZTtJQVV4QyxpQ0FBVyxhQUFDLE9BQW1DOzs7bURBQWdCO2dCQUM3RCxPQUFPLElBQUksT0FBTyxDQUFNLFVBQUMsT0FBTyxFQUFFLE1BQU07b0JBQ3RDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxXQUFXLENBQUMsVUFBQyxLQUF1QixFQUFFLElBQVM7d0JBQ3JFLElBQUksS0FBSyxFQUFFOzRCQUNULE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQzt5QkFDZjs2QkFBTTs0QkFDTCxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7eUJBQ2Y7b0JBQ0gsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUNkLENBQUMsQ0FBQyxDQUFDO2FBQ0o7OztJQVNELG1DQUFhO0lBV2Isc0RBQWdDO0lBV2hDLG9DQUFjO0lBWWQsOENBQXdCO0lBWXhCLHdDQUFrQjtJQVlsQix1Q0FBaUI7SUFZakIscUNBQWU7SUFZZix1Q0FBaUI7SUFZakIsMkNBQXFCO0lBWXJCLHdDQUFrQjtJQVlsQiw4REFBd0M7SUFZeEMsd0RBQWtDO0lBWWxDLCtDQUF5Qjs7Ozs7O0lBbExkLFdBQVc7UUFEdkIsVUFBVSxFQUFFO09BQ0EsV0FBVztzQkFwSHhCO0VBb0hpQyxpQkFBaUI7U0FBckMsV0FBVyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29yZG92YSwgQ29yZG92YUNoZWNrLCBJb25pY05hdGl2ZVBsdWdpbiwgUGx1Z2luIH0gZnJvbSAnQGlvbmljLW5hdGl2ZS9jb3JlJztcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5cclxuZGVjbGFyZSB2YXIgY2hjcDogYW55O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBIb3RDb2RlUHVzaFZlcnNpb24ge1xyXG4gIC8qKlxyXG4gICAqIEFwcGxpY2F0aW9uJ3MgdmVyc2lvbiBuYW1lLiBUaGlzIHZlcnNpb24gaXMgdmlzaWJsZSB0byB0aGUgdXNlciBvbiB0aGUgc3RvcmVzLlxyXG4gICAqL1xyXG4gIGFwcFZlcnNpb246IHN0cmluZztcclxuICAvKipcclxuICAgKiBBcHBsaWNhdGlvbidzIGJ1aWxkIHZlcnNpb24gbnVtYmVyLlxyXG4gICAqL1xyXG4gIGJ1aWxkVmVyc2lvbjogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIFZlcnNpb24gb2YgdGhlIHdlYiBjb250ZW50LCB0aGF0IGlzIGRpc3BsYXllZCB0byB0aGUgdXNlci4gQmFzaWNhbGx5LCB2YWx1ZSBvZiB0aGUgcmVsZWFzZSBwcm9wZXJ0eSBmcm9tIGNoY3AuanNvbiBmaWxlIGluIHlvdXIgbG9jYWwgd3d3IGZvbGRlci5cclxuICAgKi9cclxuICBjdXJyZW50V2ViVmVyc2lvbjogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIFByZXZpb3VzIHdlYiBjb250ZW50IHZlcnNpb24uIFRoaXMgaXMgYSB2ZXJzaW9uIG9mIG91ciBiYWNrdXAuIENhbiBiZSBlbXB0eSwgaWYgdGhlcmUgd2VyZSBubyB1cGRhdGVzIGluc3RhbGxlZC5cclxuICAgKi9cclxuICBwcmV2aW91c1dlYlZlcnNpb246IHN0cmluZztcclxuICAvKipcclxuICAgKiBWZXJzaW9uIG51bWJlciBvZiB0aGUgd2ViIGNvbnRlbnQsIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcGx1Z2luIGFuZCByZWFkeSB0byBiZSBpbnN0YWxsZWQuIEJhc2ljYWxseSwgdmFsdWUgb2YgdGhlIHJlbGVhc2UgcHJvcGVydHkgZnJvbSBjaGNwLmpzb24gZmlsZSBvbiB5b3VyIHNlcnZlci4gQ2FuIGJlIGVtcHR5LCBpZiBubyB1cGRhdGUgaXMgd2FpdGluZyBmb3IgaW5zdGFsbGF0aW9uLlxyXG4gICAqL1xyXG4gIHJlYWR5VG9JbnN0YWxsV2ViVmVyc2lvbjogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEhvdENvZGVQdXNoVXBkYXRlIHtcclxuICAvKipcclxuICAgKiBDdXJyZW50IHZlcnNpb24gaW5zdGFsbGVkLlxyXG4gICAqL1xyXG4gIGN1cnJlbnRWZXJzaW9uOiBzdHJpbmc7XHJcbiAgLyoqXHJcbiAgICogQXZhaWxhYmxlIHZlcnNpb24gdG8gcmVwbGFjZSB0aGUgY3VycmVudCBvbmUuXHJcbiAgICovXHJcbiAgcmVhZHlUb0luc3RhbGxWZXJzaW9uOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSG90Q29kZVB1c2hSZXF1ZXN0T3B0aW9ucyB7XHJcbiAgLyoqXHJcbiAgICogVXJsIG9mIHRoZSBjaGNwLmpzb24gY29uZmlnIG9uIHRoZSBzZXJ2ZXIuIFBsdWdpbiB3aWxsIHVzZSB0aGlzIG9uZSBpbnN0ZWFkIG9mIDxjb25maWctZmlsZSB1cmw9XCJcIj4gZnJvbSB0aGUgY29uZmlnLnhtbC5cclxuICAgKi9cclxuICAnY29uZmlnLWZpbGUnPzogc3RyaW5nO1xyXG4gIC8qKlxyXG4gICAqIEFkZGl0aW9uYWwgSFRUUCBoZWFkZXJzLCB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gYWxsIHJlcXVlc3RzIGluIHVwZGF0ZSBkb3dubG9hZCBwcm9jZXNzLCBpbmNsdWRpbmcgbG9hZGluZyBjb25maWdzIGFuZCBuZXcvY2hhbmdlZCBmaWxlcy5cclxuICAgKi9cclxuICAncmVxdWVzdC1oZWFkZXJzJz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGb3IgZGVzY3JpcHRpb24gb24gZXJyb3IgY29kZXMsIHBsZWFzZSB2aXNpdCBodHRwczovL2dpdGh1Yi5jb20vbm9yZG5ldC9jb3Jkb3ZhLWhvdC1jb2RlLXB1c2gvd2lraS9FcnJvci1jb2Rlc1xyXG4gKi9cclxuZXhwb3J0IGVudW0gRXJyb3JDb2RlIHtcclxuICBOT1RISU5HX1RPX0lOU1RBTEwgPSAxLFxyXG4gIE5PVEhJTkdfVE9fVVBEQVRFID0gMixcclxuICBGQUlMRURfVE9fRE9XTkxPQURfQVBQTElDQVRJT05fQ09ORklHID0gLTEsXHJcbiAgQVBQTElDQVRJT05fQlVJTERfVkVSU0lPTl9UT09fTE9XID0gLTIsXHJcbiAgRkFJTEVEX1RPX0RPV05MT0FEX0NPTlRFTlRfTUFOSUZFU1QgPSAtMyxcclxuICBGQUlMRURfVE9fRE9XTkxPQURfVVBEQVRFX0ZJTEVTID0gLTQsXHJcbiAgRkFJTEVEX1RPX01PVkVfTE9BREVEX0ZJTEVTX1RPX0lOU1RBTExBVElPTl9GT0xERVIgPSAtNSxcclxuICBVUERBVEVfSVNfSU5WQUxJRCA9IC02LFxyXG4gIEZBSUxFRF9UT19DT1BZX0ZJTEVTX0ZST01fUFJFVklPVVNfUkVMRUFTRSA9IC03LFxyXG4gIEZBSUxFRF9UT19DT1BZX05FV19DT05URU5UX0ZJTEVTID0gLTgsXHJcbiAgTE9DQUxfVkVSU0lPTl9PRl9BUFBMSUNBVElPTl9DT05GSUdfTk9UX0ZPVU5EID0gLTksXHJcbiAgTE9DQUxfVkVSU0lPTl9PRl9NQU5JRkVTVF9OT1RfRk9VTkQgPSAtMTAsXHJcbiAgTE9BREVEX1ZFUlNJT05fT0ZfQVBQTElDQVRJT05fQ09ORklHX05PVF9GT1VORCA9IC0xMSxcclxuICBMT0FERURfVkVSU0lPTl9PRl9NQU5JRkVTVF9OT1RfRk9VTkQgPSAtMTIsXHJcbiAgRkFJTEVEX1RPX0lOU1RBTExfQVNTRVRTX09OX0VYVEVSTkFMX1NUT1JBR0UgPSAtMTMsXHJcbiAgQ0FOVF9JTlNUQUxMX1dISUxFX0RPV05MT0FEX0lOX1BST0dSRVNTID0gLTE0LFxyXG4gIENBTlRfRE9XTkxPQURfVVBEQVRFX1dISUxFX0lOU1RBTExBVElPTl9JTl9QUk9HUkVTUyA9IC0xNSxcclxuICBJTlNUQUxMQVRJT05fQUxSRUFEWV9JTl9QUk9HUkVTUyA9IC0xNixcclxuICBET1dOTE9BRF9BTFJFQURZX0lOX1BST0dSRVNTID0gLTE3LFxyXG4gIEFTU0VUU19GT0xERVJfSVNfTk9UX1lFVF9JTlNUQUxMRUQgPSAtMTgsXHJcbiAgTkVXX0FQUExJQ0FUSU9OX0NPTkZJR19JU19JTlZBTElEID0gLTE5LFxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEhvdENvZGVQdXNoRXJyb3Ige1xyXG4gIGNvZGU6IEVycm9yQ29kZTtcclxuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEhvdENvZGVQdXNoRXZlbnREYXRhIHtcclxuICBkZXRhaWxzPzoge1xyXG4gICAgZXJyb3I/OiBIb3RDb2RlUHVzaEVycm9yO1xyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBIb3QgQ29kZSBQdXNoXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBIb3RDb2RlUHVzaCBwbHVnaW4gZm9yIENvcmRvdmEgdGhhdCBzdXBwb3J0cyBpT1MgYW5kIEFuZHJvaWQuIFRoaXMgcGx1Z2luIGFsbG93cyB5b3UgdG8ga2VlcCB5b3VyIGh0bWwsIGNzcyBhbmQganMgZmlsZXMgc3luY2VkIHdpdGggeW91ciBzZXJ2ZXIuXHJcbiAqXHJcbiAqIEZvciBtb3JlIGluZm8sIHBsZWFzZSBzZWUgdGhlIGRldGFpbGVkIHdpa2kgaHR0cHM6Ly9naXRodWIuY29tL25vcmRuZXQvY29yZG92YS1ob3QtY29kZS1wdXNoL3dpa2lcclxuICpcclxuICogQHVzYWdlXHJcbiAqIGBgYHR5cGVzY3JpcHRcclxuICogaW1wb3J0IHsgSG90Q29kZVB1c2ggfSBmcm9tICdAaW9uaWMtbmF0aXZlL2hvdC1jb2RlLXB1c2gvbmd4JztcclxuICpcclxuICogY29uc3RydWN0b3IocHJpdmF0ZSBob3RDb2RlUHVzaDogSG90Q29kZVB1c2gpIHsgfVxyXG4gKlxyXG4gKiAuLi5cclxuICpcclxuICogaG90Q29kZVB1c2guZmV0Y2hVcGRhdGUob3B0aW9ucykudGhlbihkYXRhID0+IHsgY29uc29sZS5sb2coJ1VwZGF0ZSBhdmFpbGFibGUnKTsgfSk7XHJcbiAqXHJcbiAqIGBgYFxyXG4gKi9cclxuQFBsdWdpbih7XHJcbiAgcGx1Z2luTmFtZTogJ0hvdENvZGVQdXNoJyxcclxuICBwbHVnaW46ICdjb3Jkb3ZhLWhvdC1jb2RlLXB1c2gnLFxyXG4gIHBsdWdpblJlZjogJ2NoY3AnLFxyXG4gIHJlcG86ICdodHRwczovL2dpdGh1Yi5jb20vbm9yZG5ldC9jb3Jkb3ZhLWhvdC1jb2RlLXB1c2gnLFxyXG4gIHBsYXRmb3JtczogWydBbmRyb2lkJywgJ2lPUyddLFxyXG59KVxyXG5ASW5qZWN0YWJsZSgpXHJcbmV4cG9ydCBjbGFzcyBIb3RDb2RlUHVzaCBleHRlbmRzIElvbmljTmF0aXZlUGx1Z2luIHtcclxuICAvKipcclxuICAgKiBTaG93IGRpYWxvZyB3aXRoIHRoZSByZXF1ZXN0IHRvIHVwZGF0ZSBhcHBsaWNhdGlvbiB0aHJvdWdoIHRoZSBTdG9yZSAoQXBwIFN0b3JlIG9yIEdvb2dsZSBQbGF5KS5cclxuICAgKiBAcGFyYW0gbWVzc2FnZSB7c3RyaW5nfSBNZXNzYWdlIHRvIHNob3cgaW4gdGhlIGRpYWxvZ1xyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJlc29sdmVzIHdoZW4gdGhlIHVzZXIgaXMgcmVkaXJlY3RlZCB0byB0aGUgc3RvcmUsIHJlamVjdHMgaWYgdGhlIHVzZXIgZGVjbGluZXMuXHJcbiAgICovXHJcbiAgQENvcmRvdmEoKVxyXG4gIHJlcXVlc3RBcHBsaWNhdGlvblVwZGF0ZShtZXNzYWdlOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRG93bmxvYWQgdXBkYXRlcyBmcm9tIHRoZSBzZXJ2ZXItc2lkZS5cclxuICAgKiBAcGFyYW0gb3B0aW9ucyB7SG90Q29kZVB1c2hSZXF1ZXN0T3B0aW9uc30gQWRkaXRpb25hbCBvcHRpb25zIHRvIHRoZSByZXF1ZXN0LiBJZiBub3Qgc2V0IC0gcHJlZmVyZW5jZXMgZnJvbSBjb25maWcueG1sIGFyZSB1c2VkLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJlc29sdmVzIGlmIHRoZXJlIGlzIGFuIHVwZGF0ZSBhdmFpbGFibGUsIHJlamVjdHMgb3RoZXJ3aXNlLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhQ2hlY2soKVxyXG4gIGZldGNoVXBkYXRlKG9wdGlvbnM/OiBIb3RDb2RlUHVzaFJlcXVlc3RPcHRpb25zKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgSG90Q29kZVB1c2guZ2V0UGx1Z2luKCkuZmV0Y2hVcGRhdGUoKGVycm9yOiBIb3RDb2RlUHVzaEVycm9yLCBkYXRhOiBhbnkpID0+IHtcclxuICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgIHJlamVjdChlcnJvcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJlc29sdmUoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBvcHRpb25zKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5zdGFsbCB1cGRhdGUgaWYgdGhlcmUgaXMgYW55dGhpbmcgdG8gaW5zdGFsbC5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXNvbHZlcyB3aGVuIHRoZSB1cGRhdGUgaXMgaW5zdGFsbGVkLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIGNhbGxiYWNrU3R5bGU6ICdub2RlJyxcclxuICB9KVxyXG4gIGluc3RhbGxVcGRhdGUoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrIGlmIHVwZGF0ZSB3YXMgbG9hZGVkIGFuZCByZWFkeSB0byBiZSBpbnN0YWxsZWQuXHJcbiAgICogQHJldHVybnMge1Byb21pc2U8SG90Q29kZVB1c2hVcGRhdGU+fSBSZXNvbHZlcyBpZiBhbiB1cGRhdGUgaXMgcmVhZHksIHJlamVjdHMgaWYgdGhlcmUgaXMgbm8gdXBkYXRlLlxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIGNhbGxiYWNrU3R5bGU6ICdub2RlJyxcclxuICB9KVxyXG4gIGlzVXBkYXRlQXZhaWxhYmxlRm9ySW5zdGFsbGF0aW9uKCk6IFByb21pc2U8SG90Q29kZVB1c2hVcGRhdGU+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFwcCdzIHZlcnNpb25zLlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlPEhvdENvZGVQdXNoVmVyc2lvbj59IFJlc29sdmVzIHdpdGggdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSB2ZXJzaW9ucy5cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBjYWxsYmFja1N0eWxlOiAnbm9kZScsXHJcbiAgfSlcclxuICBnZXRWZXJzaW9uSW5mbygpOiBQcm9taXNlPEhvdENvZGVQdXNoVmVyc2lvbj4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQgc2VudCB3aGVuIG5ldyByZWxlYXNlIHdhcyBzdWNjZXNzZnVsbHkgbG9hZGVkIGFuZCByZWFkeSB0byBiZSBpbnN0YWxsZWQuXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SG90Q29kZVB1c2hFdmVudERhdGE+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIGV2ZW50T2JzZXJ2YWJsZTogdHJ1ZSxcclxuICAgIGV2ZW50OiAnY2hjcF91cGRhdGVJc1JlYWR5VG9JbnN0YWxsJyxcclxuICB9KVxyXG4gIG9uVXBkYXRlSXNSZWFkeVRvSW5zdGFsbCgpOiBPYnNlcnZhYmxlPEhvdENvZGVQdXNoRXZlbnREYXRhPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFdmVudCBzZW50IHdoZW4gcGx1Z2luIGNvdWxkbid0IGxvYWQgdXBkYXRlIGZyb20gdGhlIHNlcnZlci4gRXJyb3IgZGV0YWlscyBhcmUgYXR0YWNoZWQgdG8gdGhlIGV2ZW50LlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPEhvdENvZGVQdXNoRXZlbnREYXRhPn1cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBldmVudE9ic2VydmFibGU6IHRydWUsXHJcbiAgICBldmVudDogJ2NoY3BfdXBkYXRlTG9hZEZhaWxlZCcsXHJcbiAgfSlcclxuICBvblVwZGF0ZUxvYWRGYWlsZWQoKTogT2JzZXJ2YWJsZTxIb3RDb2RlUHVzaEV2ZW50RGF0YT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQgc2VudCB3aGVuIHdlIHN1Y2Nlc3NmdWxseSBsb2FkZWQgYXBwbGljYXRpb24gY29uZmlnIGZyb20gdGhlIHNlcnZlciwgYnV0IHRoZXJlIGlzIG5vdGhpbmcgbmV3IGlzIGF2YWlsYWJsZS5cclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxIb3RDb2RlUHVzaEV2ZW50RGF0YT59XHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgZXZlbnRPYnNlcnZhYmxlOiB0cnVlLFxyXG4gICAgZXZlbnQ6ICdjaGNwX25vdGhpbmdUb1VwZGF0ZScsXHJcbiAgfSlcclxuICBvbk5vdGhpbmdUb1VwZGF0ZSgpOiBPYnNlcnZhYmxlPEhvdENvZGVQdXNoRXZlbnREYXRhPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFdmVudCBzZW50IHdoZW4gYW4gdXBkYXRlIGlzIGFib3V0IHRvIGJlIGluc3RhbGxlZC5cclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxIb3RDb2RlUHVzaEV2ZW50RGF0YT59XHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgZXZlbnRPYnNlcnZhYmxlOiB0cnVlLFxyXG4gICAgZXZlbnQ6ICdjaGNwX2JlZm9yZUluc3RhbGwnLFxyXG4gIH0pXHJcbiAgb25CZWZvcmVJbnN0YWxsKCk6IE9ic2VydmFibGU8SG90Q29kZVB1c2hFdmVudERhdGE+IHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEV2ZW50IHNlbnQgd2hlbiB1cGRhdGUgd2FzIHN1Y2Nlc3NmdWxseSBpbnN0YWxsZWQuXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SG90Q29kZVB1c2hFdmVudERhdGE+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIGV2ZW50T2JzZXJ2YWJsZTogdHJ1ZSxcclxuICAgIGV2ZW50OiAnY2hjcF91cGRhdGVJbnN0YWxsZWQnLFxyXG4gIH0pXHJcbiAgb25VcGRhdGVJbnN0YWxsZWQoKTogT2JzZXJ2YWJsZTxIb3RDb2RlUHVzaEV2ZW50RGF0YT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQgc2VudCB3aGVuIHVwZGF0ZSBpbnN0YWxsYXRpb24gZmFpbGVkLiBFcnJvciBkZXRhaWxzIGFyZSBhdHRhY2hlZCB0byB0aGUgZXZlbnQuXHJcbiAgICogQHJldHVybnMge09ic2VydmFibGU8SG90Q29kZVB1c2hFdmVudERhdGE+fVxyXG4gICAqL1xyXG4gIEBDb3Jkb3ZhKHtcclxuICAgIGV2ZW50T2JzZXJ2YWJsZTogdHJ1ZSxcclxuICAgIGV2ZW50OiAnY2hjcF91cGRhdGVJbnN0YWxsRmFpbGVkJyxcclxuICB9KVxyXG4gIG9uVXBkYXRlSW5zdGFsbEZhaWxlZCgpOiBPYnNlcnZhYmxlPEhvdENvZGVQdXNoRXZlbnREYXRhPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFdmVudCBzZW50IHdoZW4gdGhlcmUgaXMgbm90aGluZyB0byBpbnN0YWxsLiBQcm9iYWJseSwgbm90aGluZyB3YXMgbG9hZGVkIGJlZm9yZSB0aGF0LlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPEhvdENvZGVQdXNoRXZlbnREYXRhPn1cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBldmVudE9ic2VydmFibGU6IHRydWUsXHJcbiAgICBldmVudDogJ2NoY3Bfbm90aGluZ1RvSW5zdGFsbCcsXHJcbiAgfSlcclxuICBvbk5vdGhpbmdUb0luc3RhbGwoKTogT2JzZXJ2YWJsZTxIb3RDb2RlUHVzaEV2ZW50RGF0YT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQgc2VudCB3aGVuIHBsdWdpbiBpcyBhYm91dCB0byBzdGFydCBpbnN0YWxsaW5nIGJ1bmRsZSBjb250ZW50IG9uIHRoZSBleHRlcm5hbCBzdG9yYWdlLlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPEhvdENvZGVQdXNoRXZlbnREYXRhPn1cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBldmVudE9ic2VydmFibGU6IHRydWUsXHJcbiAgICBldmVudDogJ2NoY3BfYmVmb3JlQXNzZXRzSW5zdGFsbGVkT25FeHRlcm5hbFN0b3JhZ2UnLFxyXG4gIH0pXHJcbiAgb25CZWZvcmVBc3NldHNJbnN0YWxsZWRPbkV4dGVybmFsU3RvcmFnZSgpOiBPYnNlcnZhYmxlPEhvdENvZGVQdXNoRXZlbnREYXRhPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFdmVudCBzZW50IHdoZW4gcGx1Z2luIHN1Y2Nlc3NmdWxseSBjb3BpZWQgd2ViIHByb2plY3QgZmlsZXMgZnJvbSBidW5kbGUgb24gdGhlIGV4dGVybmFsIHN0b3JhZ2UuIE1vc3QgbGlrZWx5IHlvdSB3aWxsIHVzZSBpdCBmb3IgZGVidWcgcHVycG9zZSBvbmx5LiBPciBldmVuIG5ldmVyLlxyXG4gICAqIEByZXR1cm5zIHtPYnNlcnZhYmxlPEhvdENvZGVQdXNoRXZlbnREYXRhPn1cclxuICAgKi9cclxuICBAQ29yZG92YSh7XHJcbiAgICBldmVudE9ic2VydmFibGU6IHRydWUsXHJcbiAgICBldmVudDogJ2NoY3BfYXNzZXRzSW5zdGFsbGVkT25FeHRlcm5hbFN0b3JhZ2UnLFxyXG4gIH0pXHJcbiAgb25Bc3NldHNJbnN0YWxsZWRPbkV4dGVybmFsU3RvcmFnZSgpOiBPYnNlcnZhYmxlPEhvdENvZGVQdXNoRXZlbnREYXRhPiB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFdmVudCBzZW50IHdoZW4gcGx1Z2luIGNvdWxkbid0IGNvcHkgZmlsZXMgZnJvbSBidW5kbGUgb24gdGhlIGV4dGVybmFsIHN0b3JhZ2UuIElmIHRoaXMgaGFwcGVucyAtIHBsdWdpbiB3b24ndCB3b3JrLiBDYW4gb2NjdXIgd2hlbiB0aGVyZSBpcyBub3QgZW5vdWdoIGZyZWUgc3BhY2Ugb24gdGhlIGRldmljZS5cclxuICAgKiBAcmV0dXJucyB7T2JzZXJ2YWJsZTxIb3RDb2RlUHVzaEV2ZW50RGF0YT59XHJcbiAgICovXHJcbiAgQENvcmRvdmEoe1xyXG4gICAgZXZlbnRPYnNlcnZhYmxlOiB0cnVlLFxyXG4gICAgZXZlbnQ6ICdjaGNwX2Fzc2V0c0luc3RhbGxhdGlvbkVycm9yJyxcclxuICB9KVxyXG4gIG9uQXNzZXRzSW5zdGFsbGF0aW9uRXJyb3IoKTogT2JzZXJ2YWJsZTxIb3RDb2RlUHVzaEV2ZW50RGF0YT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxufVxyXG4iXX0=